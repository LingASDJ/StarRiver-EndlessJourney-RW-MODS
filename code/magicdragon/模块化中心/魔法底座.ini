[core]
name:模块化炮塔底座
class:CustomUnitMetadata
price:400
maxHp:400
mass:9000
#used for placement, and placement of other buildings
techLevel:3
buildSpeed:1s
#availableInDemo:true
radius:35
#displayRadius:25
isBio:false
isBuilding:true
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint: -1,-1,1,1

displayText: Modular turret base
displayDescription: -When each forces are two defeated, the magic dragon is carrying out the technology revolutionary \n-This modular turret is the latest technology, and the turret can be integrated.

displayText_zh: 模块化炮塔底座
displayDescription_zh: -当各个势力正在两败俱伤时，魔龙正在进行科技大革命\n-这个模块化炮塔底座便是最新科技，可以将炮塔融为一体。

[graphics]
total_frames:4
image:ROOT:/assets/magicdragonimg/modconon/音座.png
image_turret:NONE
image_wreak:NONE
#scaleImagesTo:55
#scaleTurretImagesTo:40
#AUTO
image_shadow:AUTO
shadowOffsetX:1
shadowOffsetY:1

animation_idle_start: 0
animation_idle_end: 3
animation_idle_speed: 25

[attack]
canAttack:false

[movement]
movementType:LAND
moveSpeed:0
maxTurnSpeed:5

[action_插槽1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="单位插槽${slotId}")
textPostFix: ]
descriptionAddFromUnit: unitRef self.attachment(slot="单位插槽${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="单位插槽${slotId}")
addResources: unsetFlag=1, setFlag=${slotId}
#注意unsetFlag=1-3，相当于最多3个模块。如果需要更多就加大。比如25个，就是unsetFlag=1-25
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="单位插槽${slotId}")
#其他代码直接复制就是了
iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: ROOT:/assets/magicdragonimg/modconon/UI.png
#设置选择的素材图

[attachment_单位插槽1]
x: 0
y: 0
#idleDir:-60
idleDir:0
idleDirReversing:0
onCreateSpawnUnitOf:EmptyS
#指向核心2.ini
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: true
isUnselectable: false
showAllActionsFrom:if self.hasFlag(id=1)
#注意后面的id
#resetRotationWhenNotAttacking:true
lockRotation: true
createIncompleteIfParentIs: false
redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true

[turret_1]
x:0
y:0
showRangeUIGuide:true

