
[core]
name:导弹战船艇
class: CustomUnitMetadata
price: 20000
maxHp:4500
mass: 30000
techLevel: 2
buildSpeed:75s
availableInDemo: false
radius: 40
transportSlotsNeeded: 4
isBio: false
fogOfWarSightRange:24
maxTransportingUnits:4
transportUnitsRequireMovementType:AIR
transportUnitsCanUnloadUnits:if self.isOverwater()
transportUnitsKillOnDeath:false
transportUnitsHealBy:0.05
selfRegenRate:0.2


builtFrom_1_name: seaFactory
builtFrom_1_pos:  6.6


#canBuild_1_name: lightSub


exit_x:0
exit_y:30

energyMax:10
energyRegen: 0.007
energyNeedsToRechargeToFull: true

[effect_lightSlowFade]
priority:high
image: SHARED:light_50.png
life:90
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom:0.2
scaleTo: 0.2
alpha: 1
drawUnderUnits:false
[graphics]
drawLayer: experimentals

total_frames: 1

image:        body.png
image_wreak:  body_dead.png
image_turret: base.png
teamColorsOnTurret: true
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
aimOffsetSpread:0
turretSize: 20
turretTurnSpeed: 1.8



maxAttackRange: 390
shootDelay:45

turretMultiTargeting: true
[effect_verySmallFlame]
life:50
attachedToUnit: true
atmospheric: true
stripIndex: 3
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.5
alpha:1
scaleFrom: 1.1
scaleTo: 1.1
[turret_隐藏炮塔A]
x: -10
y:-33
projectile:A
size:15
turnSpeed: 4
turnSpeedAcceleration: 0.8
shoot_sound:firing4
shoot_sound_vol:0.8
shoot_flame:CUSTOM:lightSlowFade
shoot_light:#ffffff
#size:3
canAttackCondition:if self.transportingCount(greaterThan=0)
invisible:if not self.transportingCount(greaterThan=0)
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 20
[projectile_A]
directDamage: 10
life: 70
speed: 6
frame: 5
drawSize: 0.7
[projectile_B]
directDamage: 20
life: 70
speed: 6
frame: 5
drawSize: 0.7
[projectile_C]
directDamage: 30
life: 70
speed: 6
frame: 5
drawSize: 0.7
[projectile_D]
directDamage:40
life: 70
speed: 6
frame: 5
drawSize: 0.7
[turret_隐藏炮塔B]
x: -10
y:-33
projectile:B
size:15
turnSpeed: 4
turnSpeedAcceleration: 0.8
shoot_sound:firing4
shoot_sound_vol:0.8
shoot_flame:CUSTOM:lightSlowFade
shoot_light:#ffffff
#size:3
canAttackCondition:if self.transportingCount(greaterThan=1)
invisible:if not self.transportingCount(greaterThan=1)
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 20
[turret_隐藏炮塔C]
x: -10
y:-33
projectile:C
size:15
turnSpeed: 4
turnSpeedAcceleration: 0.8
shoot_sound:firing4
shoot_sound_vol:0.8
shoot_flame:CUSTOM:lightSlowFade
shoot_light:#ffffff
#size:3
canAttackCondition:if self.transportingCount(greaterThan=2)
invisible:if not self.transportingCount(greaterThan=2)
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 20
[turret_隐藏炮塔D]
x: -10
y:-33
projectile:D
size:15
turnSpeed: 4
turnSpeedAcceleration: 0.8
shoot_sound:firing4
shoot_sound_vol:0.8
shoot_flame:CUSTOM:lightSlowFade
shoot_light:#ffffff
canAttackCondition:if self.transportingCount(greaterThan=3)
invisible:if not self.transportingCount(greaterThan=3)
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 20
[action_dfdfff]
price:energy=0
text:使用说明
#isActive:
description:-导弹战船以自身发射的导弹作为辅助\n-每运载一个单位就会添加一个炮塔\n-最大上限[4]个\n-卸载完毕或者没有单位就会禁用此武器
displayType:infoOnly
buildSpeed:999
addResources: credits=0
pos:2
isVisible:true
[action_launchNuke]
fireTurretXAtGround:1
price: energy=5
text:发射导弹
description:请手动瞄准目标
displayType: action
buildSpeed: 1.5s
pos: 1
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
[turret_1]
#missile turret
x: -13
y: 10
idleDir:0

invisible: true
shoot_flame:CUSTOM:nukeLaunch_wave,CUSTOM:nukeLaunch_light,shockwave
shoot_sound:missile_fire
shoot_sound_vol:0.1
shoot_light:#FFEECCCC
projectile: 3
size: 1
canShoot:false
turnSpeed: 40
[effect_nukeLaunch_wave]
priority:high

stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5
[projectile_3]
life:999
speed: 0.3
targetSpeed: 6
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
friendlyFire: true
shouldRevealFog:true
targetGround: true
deflectionPower:30
targetGroundSpread: 25
flameWeapon:true
areaDamage:1000
areaRadius:180
explodeEffect: CUSTOM:smoak*10
areaExpandTime:45
autoTargetingOnDeadTarget: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4

[effect_projectileTrail]

stripIndex: effects
frameIndex: 0


life: 120
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.5
scaleTo: 3.5
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

shadow:true

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

[effect_nukeLaunch_light]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 1.7
scaleTo: 1.7
alpha: 0.7
drawUnderUnits:false

[movement]
movementType: WATER
moveSpeed: 0.5
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.05

reverseSpeedPercentage:1

maxTurnSpeed: 0.8
turnAcceleration: 0.05

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45
[effect_smoak]

priority:high

xOffsetAbsoluteRandom: 2
yOffsetAbsolute: 3

image: SHARED:light_50.png

spawnChance: 0.7

life: 90
fadeOut: true
attachedToUnit: false
#color: #fdc14d
color: #FFFFFF

fadeInTime:5
scaleFrom: 0.2
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false
hSpeed:0.4
xSpeedAbsoluteRandom:0.3
ySpeedAbsolute:-0.9
#dirOffsetRandom:180
atmospheric: true



