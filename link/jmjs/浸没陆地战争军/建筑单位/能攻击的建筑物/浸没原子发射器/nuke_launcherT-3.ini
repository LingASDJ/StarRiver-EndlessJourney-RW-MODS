#浸没技术MOD的原子弹发射器
#由核弹发射器的改进而来
#修写抛射体的尾烟效果太辛苦了。。
#还有建筑面积方面
#如果把制作时间一起来算
#应该写了一个上午
[core]
#name:浸没科技原子弹发射器
name:原子弹发射井
class: CustomUnitMetadata


#typo in original


isLockedIfGameModeNoNuke:true

action_1_convertTo:浸没核心弹发射井
action_1_price:125000
action_1_text: 升级至浸没核心弹发射井
action_1_description: 核心弹储量变大\n-核心弹威力更大\n-更远更强
action_1_displayType: Upgrade
action_1_buildSpeed:245s
action_1_pos: 0.2


price: 105000
maxHp: 3500
mass: 9000

#footprint used for collisions with units (left, up, right, down)
footprint: -2,-3,2,1

#used for placement, and placement of other buildings
constructionFootprint: -2,-3,2,1


techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

radius: 35
#displayRadius: 25
isBio: false
isBuilding: true




exit_x:0
exit_y:-1

[action_buildNuke]
price:  21000
text:制造原子弹
description:可以储存17颗原子弹
displayType: NONE
buildSpeed:96s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=17)
addResources: ammo=1


[action_launchNuke]
fireTurretXAtGround:核弹发射炮塔
price:  ammo=1

text:发射原子弹
description:选择原子弹目标
displayType: action
buildSpeed: 3.5s
pos: 0.1
whenBuilding_playAnimation:发射门的运动
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true





[graphics]
total_frames: 1

image:        nuke_launcher-3.png
image_back:   nuke_launcher_back-3.png
image_wreak:  nuke_launcher_dead.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
maxAttackRange: 9999


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1




[turret_核弹发射炮塔]
#nuke turret
canShoot: false

x: 0
y: -5
idleDir:0

invisible: true

shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC

projectile:核弹抛射体
size: 1

turnSpeed: 40



limitingMinRange: 260

[projectile_核弹抛射体]
#nuke
tags:原子弹

directDamage: 452

life: 99999
speed: 0.1
targetSpeed: 2.7
targetSpeedAcceleration:0.02


largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 0
shadowFrame:1
drawType:1
image: projectiles_large.png
targetGround: true
areaDamage: 12400
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
#爆炸时除去迷雾
areaRadius: 550
#伤害范围
areaExpandTime:75
#核爆炸波动［大小与伤害范围有关］
deflectionPower:-1


shouldRevealFog:true
nukeWeapon:true
#核效应［地图上显示核弹发射］

lightColor: #FFEEEE00
lightSize: 1

friendlyFire: true

#trailEffect: true
trailEffect: CUSTOM:抛射体蓝焰,CUSTOM:抛射体尾烟,CUSTOM:抛射体影子
#专用逗号用于分隔
#自定义抛射体尾烟效果
trailEffectRate:4
#运动轨迹
[effect_抛射体蓝焰]
image: flameblue.png
#主图片
#影子
life: 25
#效果时间不要填大，容易使其他单位效果消失
#除非是在手机问题上吧
fadeOut: true
showInFog:true
attachedToUnit: true
delayedStartTimer: 0
fadeInTime:2
scaleFrom: 0.45
scaleTo:1.3
#图片放大倍数
alpha: 0.6
drawUnderUnits:true
ySpeedRelative:-0.5
atmospheric: false
xOffsetRelative:0
yOffsetRelative:-15
[effect_抛射体影子]
image:projectiles_large1.png
#影子
life:25
#效果时间不要填大，容易使其他单位效果消失
#除非是在手机问题上吧
fadeOut: true
showInFog:true
attachedToUnit: true
delayedStartTimer: 0
fadeInTime:2
scaleFrom: 0.45
scaleTo:1
#图片放大倍数
alpha: 0.6
drawUnderUnits:true
ySpeedRelative:-0.5
atmospheric: false
xOffsetRelative:0
yOffsetRelative:1
[effect_抛射体尾烟]
#普通尾烟效果-［已修改存在时间］
#原来的时间90
#获得雪花特效时间9999999
#但是散发性和手机配置有毒
#所以还是不去看它吧---
stripIndex: effects
frameIndex: 0
life:999
fadeOut: true
attachedToUnit: false
color: #2a6b68
fadeInTime:5
scaleFrom: 0.5
scaleTo: 3.5
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

shadow:true

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2
xOffsetRelative:0
yOffsetRelative:-15



[arm_1]
x:3
y:-5
image_end:nuke_launcher_door_r.png


#x:13
#y:-9

[arm_2]
x:-5
y:4
image_end:nuke_launcher_door_l.png

#x:-14
#y:14

[animation_发射门的运动]

blendIn: 2s
blendOut: 2.5s

arm1_0: {x:5, y:-8}
arm2_0: {x:-14, y:5}

#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0} 

#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}

[ai]
upgradedFrom:原子弹发射井



