#core😏😏😏
[core]
#name:浸没科技核心弹发射器
name:浸没核心弹发射井
class:CustomUnitMetadata


#typo in original


isLockedIfGameModeNoNuke:true



price:165000
maxHp:7400
mass:9000

#footprint used for collisions with units (left, up, right, down)
footprint:-2,-3,2,1

#used for placement, and placement of other buildings
constructionFootprint:-2,-3,2,1


techLevel:1
buildSpeed:0.001
#availableInDemo: true

radius:35
#displayRadius: 25
isBio:false
isBuilding:true




exit_x:0
exit_y:-1

[action_buildNuke]
price:32000
text:制造浸没核心弹
description:可以储存24颗浸没核心弹
displayType:NONE
buildSpeed:126s
pos:0.2
isActive:if self.ammoIncludingQueued(lessThan=24)
addResources:ammo=1


[action_launchNuke]
fireTurretXAtGround:核弹发射炮塔
price:ammo=1

text:发射浸没核心弹
description:选择浸没核心弹目标
displayType:action
buildSpeed:7.5s
pos:0.1
whenBuilding_playAnimation:发射门的运动
displayRemainingStockpile:true
highPriorityQueue:true
onlyOneUnitAtATime:true





[graphics]
total_frames:1

image:浸没核心发射器主体.png
image_back:浸没核心发射器背景.png
image_wreak:nuke_launcher_dead.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack:false
canAttackFlyingUnits:false
canAttackLandUnits:true
canAttackUnderwaterUnits:false
maxAttackRange:9999


[movement]
movementType:NONE
moveSpeed:0
moveAccelerationSpeed:0.01
moveDecelerationSpeed:0.01

maxTurnSpeed:0
turnAcceleration:0.1




[turret_核弹发射炮塔]
#nuke turret
canShoot:false

x:0
y:-5
idleDir:0

invisible:true

shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC

projectile:核弹抛射体
size:1

turnSpeed:40



limitingMinRange:260
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6

[projectile_核弹抛射体]
#nuke
tags:核心弹

directDamage:1000

life:99999
speed:0.1
targetSpeed:2.7
targetSpeedAcceleration:0.02

spawnUnit:十字核弹
largeHitEffect:true
ballistic:true
ballistic_delaymove_height:80
ballistic_height:110
frame:0
shadowFrame:1
drawType:1
image:projectiles_large.png
targetGround:true
areaDamage:12000
areaHitAirAndLandAtSameTime:true
alwaysVisibleInFog:true
#爆炸时除去迷雾
areaRadius:2000
#伤害范围
areaExpandTime:70
#核爆炸波动［大小与伤害范围有关］
deflectionPower:-1


shouldRevealFog:true
nukeWeapon:true
#核效应［地图上显示核弹发射］

lightColor:#FFEEEE00
lightSize:1

friendlyFire:true

#trailEffect: true
trailEffect:CUSTOM:抛射体蓝焰,CUSTOM:抛射体尾烟,CUSTOM:抛射体影子
#专用逗号用于分隔
#自定义抛射体尾烟效果
trailEffectRate:4
#运动轨迹
[effect_抛射体蓝焰]
image:flameblue.png
#主图片
#影子
life:25
#效果时间不要填大，容易使其他单位效果消失
#除非是在手机问题上吧
fadeOut:true
showInFog:true
attachedToUnit:true
delayedStartTimer:0
fadeInTime:2
scaleFrom:0.45
scaleTo:1.9
#图片放大倍数
alpha:0.6
drawUnderUnits:true
ySpeedRelative:-0.5
atmospheric:false
xOffsetRelative:0
yOffsetRelative:-18
[effect_抛射体影子]
image:projectiles_large1.png
#影子
life:25
#效果时间不要填大，容易使其他单位效果消失
#除非是在手机问题上吧
fadeOut:true
showInFog:true
attachedToUnit:true
delayedStartTimer:0
fadeInTime:2
scaleFrom:0.45
scaleTo:1
#图片放大倍数
alpha:0.6
drawUnderUnits:true
ySpeedRelative:-0.5
atmospheric:false
xOffsetRelative:0
yOffsetRelative:1
[effect_抛射体尾烟]
#普通尾烟效果-［已修改存在时间］
#原来的时间90
#获得雪花特效时间9999999
#但是散发性和手机配置有毒
#所以还是不去看它吧---
stripIndex:effects
frameIndex:0
life:999
fadeOut:true
attachedToUnit:false
color:#2a6b68
fadeInTime:5
scaleFrom:0.5
scaleTo:3.5
alpha:0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

shadow:true

xSpeedAbsoluteRandom:0.2
ySpeedAbsoluteRandom:0.2
xOffsetRelative:0
yOffsetRelative:-15


[effect_nukeLaunch_wave]
priority:high

stripIndex:shockwave
life:50
scaleFrom:0.5
scaleTo:2.5

[effect_nukeLaunch_smoke]
priority:high

xOffsetAbsoluteRandom:10
yOffsetAbsoluteRandom:10

frameIndex:0
stripIndex:smoke_black

spawnChance:0.3

life:90
fadeOut:true
attachedToUnit:false
#color: #fdc14d
color:#FFEEEE00

fadeInTime:5
scaleFrom:0.3
scaleTo:0.8
alpha:0.9
drawUnderUnits:false
liveAfterAttachedDies:false
hSpeed:0.4
xSpeedAbsoluteRandom:0.9
ySpeedAbsoluteRandom:0.9
dirOffsetRandom:180
atmospheric:true


[effect_nukeLaunch_light]
image:SHARED:light_50.png
life:40
fadeOut:true
attachedToUnit:true
color:#FFFFFF
scaleFrom:1.7
scaleTo:1.7
alpha:0.7
drawUnderUnits:false



[projectile_randomTankNuke]
#tank nuke :p

directDamage:1234

spawnUnit:tank
life:99999
speed:0.1
targetSpeed:2.7
targetSpeedAcceleration:0.02

trailEffect:true
largeHitEffect:true
ballistic:true
ballistic_delaymove_height:80
ballistic_height:110
frame:0
shadowFrame:1

drawType:1

targetGround:true

deflectionPower:-1

lightColor:#FFEEEE00
lightSize:1


[arm_1]
x:3
y:-5
image_end:nuke_launcher_door_r.png


#x:13
#y:-9

[arm_2]
x:-5
y:4
image_end:nuke_launcher_door_l.png
[arm_3]
x:0
y:0
image_end:浸没核心发射器卷帘门.png

#x:-14
#y:14

[animation_发射门的运动]

blendIn:4s
blendOut:4.5s

arm1_0:{x:5, y:-8}
arm2_0:{x:-14, y:5}
arm3_0:{x:0, y:26}
#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0}

#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}