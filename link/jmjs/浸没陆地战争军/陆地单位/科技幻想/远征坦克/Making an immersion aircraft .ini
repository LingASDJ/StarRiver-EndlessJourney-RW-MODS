[core]
name:Making an immersion aircraft
class: CustomUnitMetadata
displayText:浸没远征号坦克
copyFrom:Immersion support tank.ini

#displayText: TEST

showInEditor: false

isPickableStartingUnit: false

builtFrom_1_name: NONE
[action_convert]
autoTrigger: if self.transportingCount(lessThan=1) and not numberOfUnitsInTeam(withTag='浸幻坦克', greaterThan=0)

convertTo: 远征号坦克

[action_autounload]
autoTrigger: if self.transportingCount(greaterThan=0) and self.ammo(greaterThan=0) and not self.isAttacking() or numberOfUnitsInTeam(withTag='浸幻坦克', greaterThan=0)
text:启用浸没坦克
isVisible: false
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0,0
alsoTriggerAction: convert
addResources: ammo=-1
#[turret_1]
#invisible: false

#[turret_2]
#invisible: false
#canShoot: true
[turret_1]
invisible:false
image:base.png
canShoot:false
projectile:jmjs
[turret_3]
invisible:false
canShoot:false
image:base.png
[projectile_jmjs]
life: 1
speed: 0.2
frame:3
drawSize: 0.1
targetGround: true
areaDamage:0
areaRadius:0
deflectionPower: -1
explodeOnEndOfLife: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
friendlyFire: only-ignoreEnemy
explodeEffect:NONE