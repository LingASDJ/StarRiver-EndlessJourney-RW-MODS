
[core]
name: d_experimentalTank
class: CustomUnitMetadata
price: 16000
maxHp: 6000
mass: 80000
overrideAndReplace: c_experimentalTank
displayLocaleKey: experimentalTank

experimental: true
energyMax: 3
energyRegen: 0.004
techLevel: 2
buildSpeed: 0.0002
#availableInDemo: true

numBitsOnDeath: 15

transportSlotsNeeded: 5
soundOnMoveOrder: 移动声音.wav:1
soundOnAttackOrder:攻击声音.wav:1
radius: 37
displayRadius: 38

isBio: false
softCollisionOnAll: 0
[action_漩涡]
autoTrigger:if self.hp(lessThan=1000)
isVisible: false
spawnEffects: CUSTOM:浸没失落漩涡,CUSTOM:浸没失落漩涡1,CUSTOM:浸没闪光



[graphics]
total_frames: 3

image:        experimental_tank.png
image_wreak:  experimental_tank_dead.png
image_turret: experimental_tank_turret.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 3.5

teamColorsOnTurret: true

movementEffect:        CUSTOM:dustL, CUSTOM:dustR,CUSTOM:电磁效果
movementEffectReverse: CUSTOM:dustL, CUSTOM:dustR,CUSTOM:电磁效果
movementEffectReverseFlipEffects: true
movementEffectRate: 8

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 4


maxAttackRange: 310
shootDelay: 110

turretMultiTargeting: true



[turret_cannon1]
#top left cannon
x: 0
y: 0
attachedTo: base1
slave: true

projectile: 1

turnSpeed: 0

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

shoot_sound:large_gun_fire1
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#FFff925c
canAttackCondition:if not self.hp(lessThan=1000)
invisible:if self.hp(lessThan=1000)
image: experimental_tank_barrel.png

canShoot: true

warmup:0

recoilOffset: -6
recoilOutTime: 3
recoilReturnTime: 27


[turret_cannon2]
#top right cannon
x: 0
y: 0
attachedTo: base2
copyFrom: cannon1
linkDelayWithTurret: cannon1
warmup:20

[turret_cannon3]
#bottom left cannon
x: 0
y: 0
attachedTo: base3
copyFrom: cannon1
linkDelayWithTurret: cannon1
warmup:40

[turret_cannon4]
#bottom right cannon
x: 0
y: 0
attachedTo: base4
copyFrom: cannon1
linkDelayWithTurret: cannon1
warmup:60
[turret_cannon5]
#top left cannon
x: 0
y: 0
attachedTo: base1
slave: true

projectile: 1

turnSpeed: 0

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

shoot_sound:large_gun_fire1
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#FFff925c
canAttackCondition:if self.hp(lessThan=1000)
invisible:if not self.hp(lessThan=1000)
image: experimental_tank_barrel.png
delay:55
canShoot: true

warmup:0

recoilOffset: -6
recoilOutTime: 3
recoilReturnTime: 27


[turret_cannon6]
#top right cannon
x: 0
y: 0
attachedTo: base2
copyFrom: cannon5
linkDelayWithTurret: cannon5
warmup:20

[turret_cannon7]
#bottom left cannon
x: 0
y: 0
attachedTo: base3
copyFrom: cannon5
linkDelayWithTurret: cannon5
warmup:40

[turret_cannon8]
#bottom right cannon
x: 0
y: 0
attachedTo: base4
copyFrom: cannon5
linkDelayWithTurret: cannon5
warmup:60

[turret_base1]
#top left base
x: -14
y: 20
canShoot: false
turnSpeed: 2
turnSpeedAcceleration: 1.0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
recoilOffset: -0.75
recoilOutTime: 3
recoilReturnTime: 27

[turret_base2]
#top right base
x: 14
y: 20
copyFrom: base1

[turret_base3]
#bottom left base
x: -14
y: -14
copyFrom: base1

[turret_base4]
#bottom right base
x: 14
y: -14
copyFrom: base1

[turret_antiair1]
#antiair 1
x: 0
y: 0

invisible:true

size: 0

projectile: 2

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeed: 2000
turnSpeedAcceleration: 1

warmup: 30

shoot_sound: missile_fire
shoot_sound_vol:0.3
shoot_flame: NONE
shoot_light:#FFEECCCC

canShoot: true

[turret_antiair2]
#antiair 2
x: 0
y: 0

copyFrom: antiair1
linkDelayWithTurret: antiair1

warmup: 15

[projectile_1]
#cannon shot
directDamage: 60
areaDamage: 60
areaRadius: 45
life: 160
frame: 9
speed: 6

drawSize: 0.85

largeHitEffect: true

lightColor: #ffff925c
lightSize: 0.6

#trailEffect: CUSTOM:projectileTrail
#trailEffectRate:2

[effect_projectileTrail]

stripIndex: effects
frameIndex: 0
#image: SHARED:light_50.png

life: 20
fadeOut: true
attachedToUnit: false
color: #ffff925c
fadeInTime:5
scaleFrom: 0.6
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

ySpeedRelative:0.8


[effect_dustL]

life: 30
stripIndex: dust
frameIndex: 0
frameIndexRandom: 2
scaleFrom: 1.5
scaleTo: 1.9
alpha: 0.6
atmospheric:true
#dirOffsetRandom:180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.8
hSpeed:0.1
xOffsetRelative:20
yOffsetRelative:-34
drawUnderUnits:true
attachedToUnit: false

[effect_dustR]

life: 30
stripIndex: dust
frameIndex: 0
frameIndexRandom: 2
scaleFrom: 1.5
scaleTo: 1.9
alpha: 0.6
atmospheric:true
#dirOffsetRandom:180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.8
hSpeed:0.1
xOffsetRelative:-20
yOffsetRelative:-34
drawUnderUnits:true
attachedToUnit: false


[projectile_2]
#missile
directDamage: 60
life: 190
speed: 2
targetSpeed: 6

color: #fff7ff1d

drawSize: 1.9

trailEffect: true
largeHitEffect: true

ballistic: true
ballistic_delaymove_height:25
ballistic_height: 25

lightColor: #f7ff1d
lightSize: 0.5

[movement]
movementType: LAND
moveSpeed: 0.4
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

reverseSpeedPercentage:1

maxTurnSpeed: 0.8
turnAcceleration: 0.25

moveSlidingMode :false
moveIgnoringBody:false
[effect_浸没失落漩涡]
priority:high
image:浸没失落漩涡.png
life:120
attachedToUnit: true
color:#531460
dirSpeed:-2.5
scaleFrom:1
scaleTo:0.8
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false
[effect_浸没失落漩涡1]
priority:high
image:浸没失落漩涡.png
life:100
attachedToUnit: true
color:#531460
dirSpeed:2.5
scaleFrom:1
scaleTo:0.8
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false
[effect_浸没闪光]
image: 浸没闪光.png
createWhenOverLand:true
life:100
spawnChance: 1
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 0.5
scaleTo:0.8
alpha: 0.5
hOffset:4
color: #531460
dirOffsetRandom: 180
dirSpeedRandom: 0.6
atmospheric: true
[effect_电磁效果]
life:400
priority: veryhigh
xOffsetRelative: 0
yOffsetRelative: 0
hOffset: 0
dirOffsetRandom:180
dirSpeed:2.0
scaleFrom:0.2
scaleTo:0.1
fadeInTime: 1
fadeOut: true
attachedToUnit: false
image:bg333.png
drawUnderUnits: true
alpha:1.2
[effect_雾绕效果]
priority:high
image:3.png
createWhenOverLiquid: false
life:60
fadeOut: true
attachedToUnit: false
fadeInTime:5
scaleFrom:0.5
scaleTo: 0.5
alpha: 1.2
drawUnderUnits:false
hSpeed: 1.75
hOffsetRandom: 0.75
atmospheric:true
dirOffsetRandom:180
physics: true
physicsGravity: 0.1
xOffsetRelativeRandom: 24
yOffsetRelativeRandom: 24
xSpeedAbsoluteRandom:1.1
ySpeedAbsoluteRandom:1.1
[effect_pain]
alpha: 2
attachedToUnit: true
life: 80
scaleFrom:0.2
scaleTo: 0.3
image: bg59.png
priority: high
drawUnderUnits:true
dirSpeed:0
[action_传送]
fireTurretXAtGround:18
text:闪现
description:点击后就可以闪现
displayType: action
price:energy=3
buildSpeed:8
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
spawnEffects: CUSTOM:pain*2,CUSTOM:雾绕效果*10
[turret_18]
canShoot: false
x: 0
y: 0
idleDir:0
invisible: true
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
projectile:10
size: 1
limitingRange:350
turnSpeed: 40
[projectile_10]
#nuke
tags:闪现
directDamage:0
life:9999
speed:2
explodeEffect:CUSTOM:pain*2,CUSTOM:雾绕效果*10
shadowFrame:1
drawType:1
areaDamage:1
alwaysVisibleInFog: true
deflectionPower:-1
shouldRevealFog:true
targetGround: true
lightColor: #FFEEEE00
lightSize:2.5
teleportSource:true
instant:true