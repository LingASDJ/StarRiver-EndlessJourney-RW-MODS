[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=4,withTag='RY',incompleteBuildings=true)
autoTriggerOnEvent: created
addResources: 75000
deleteSelf: true
showMessageToPlayer: [错误:最大数量为4]

[action_插槽1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="单位插槽${slotId}")
textPostFix: ]
descriptionAddFromUnit: unitRef self.attachment(slot="单位插槽${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="单位插槽${slotId}")
addResources: unsetFlag=1-3, setFlag=${slotId}
#注意unsetFlag=1-3，相当于最多3个模块。如果需要更多就加大。比如25个，就是unsetFlag=1-25
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="单位插槽${slotId}")
#其他代码直接复制就是了
iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: UI.png
#设置选择的素材图
[action_插槽2]
@copyFromSection: action_插槽1
@define slotId: 2
[action_插槽3]
@copyFromSection: action_插槽1
@define slotId: 3
[attachment_单位插槽1]
x: 24
y: -46
#idleDir:-60
idleDir:0
idleDirReversing:0
onCreateSpawnUnitOf:Empty
#指向核心2.ini
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: true
isUnselectable: false
showAllActionsFrom:if self.hasFlag(id=1)
#注意后面的id
#resetRotationWhenNotAttacking:true
lockRotation: true
createIncompleteIfParentIs: false
redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true
[attachment_单位插槽2]
@copyFromSection: attachment_单位插槽1
x: -24
y: -46
#idleDir:60
idleDir:0
idleDirReversing:0
showAllActionsFrom:if self.hasFlag(id=2)
[attachment_单位插槽3]
@copyFromSection: attachment_单位插槽1
x: 0
y: -40
#idleDir:60
idleDir:0
idleDirReversing:0
showAllActionsFrom:if self.hasFlag(id=3)
[core]
name: OD-DLZ
displayText: Multifunctional Plasma Tank-R5
displayText_zh:多功能等离子坦克-R5
displayDescription: -A masterpiece from the Old Day Alliance\n-Integrated with modular intelligent technology\n-ground\n-water and land.
displayDescription_zh:-来自于旧日联盟的杰作\n-融入了模块智能科技\n-对地\n-可以水陆两行。
class: CustomUnitMetadata
price: 75000
maxHp: 100000
mass: 100000
maxShield: 10000
shieldRegen: 5
energyMax: 80
energyRegen: 0.054
energyNeedsToRechargeToFull: true
techLevel: 2
buildSpeed: 45s
#availableInDemo: true
radius: 80
displayRadius: 80
shieldRenderRadius:0
isBio: false
softCollisionOnAll: 0
tags:RY
#builtFrom_1_name: experimentalLandFactory
#builtFrom_1_pos:  5.1
[graphics]
teamColorsOnTurret: true
frame_width:66
image:        R5.png
image_wreak:  Dead.png
image_turret: minidlz.png
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2
scaleTurretImagesTo: 10
scaleImagesTo: 100
animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2.0
dustEffect: true
lock_body_rotation_with_main_turret: false
[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
turretSize: 18
turretTurnSpeed: 2.5
maxAttackRange: 310
shootDelay: 0.01s
isFixedFiring: false
[turret_mn1]
#
x: 21
y: 34
projectile: 1
turnSpeed: 4
turnSpeedAcceleration: 0.3
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#shoot_sound:firing4
shoot_sound_vol:0.8
shoot_flame:CUSTOM:lightSlowFade
shoot_light:#ffffff
image:minidlz.png
canShoot: true
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 20
energyUsage: 1
warmupStartEffect: CUSTOM:warmup
warmup:30
chargeEffectImage: SHARED:lighting_charge.png
[turret_mn2]
#
x: 21
y: 42
copyFrom: mn1
[turret_mn3]
#
x: 21
y: 48
copyFrom: mn1
[turret_mn4]
#
x: -22
y: 45
copyFrom: mn1
[turret_mn5]
#
x: -22
y: 52
copyFrom: mn1
[turret_mn6]
#
x: -22
y: 34
copyFrom: mn1
[projectile_1]
directDamage: 100
life: 80
speed: 16
targetSpeed: 3
targetSpeedAcceleration: 0.7
drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2
#trailEffectRate: true
#lightColor:#ffffff
explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash
#explodeEffectOnShield: CUSTOM:hitLightFlash
effectOnCreate: CUSTOM:projectileLight
wobbleAmplitude: 0.2
wobbleFrequency: 0.8s
[effect_warmup]
priority:high
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:3.9
[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true
[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1
[effect_projectileLight]
priority:veryhigh
image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false
[effect_hitLightFlash]
priority:high
image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false
[effect_projectilePassThough]
priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true
[movement]
movementType: HOVER
moveSpeed: 0.8
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.1
reverseSpeedPercentage:0.75
maxTurnSpeed: 3.4
turnAcceleration: 0.1
moveSlidingMode :false
moveIgnoringBody:false
[hiddenAction_trigger_onLand]
autoTrigger: if self.isInWater()
convertTo: OD-Hover
[action_nLanfhc]
isVisible: if self.isOverLiquid() 
text:岩浆模式
isLocked:if self.isControlledByAI
isLockedMessage:当前状态不可用\n-或你处于AI控制的队伍
convertTo: OD-HoverS
[leg_1]
x: 0
y: 0
attach_x: -6
attach_y: 6
moveSpeed: 1.5
resetAngle:20
holdDisMin: 10
holdDisMax: 20
image_leg:  leg.png
image_foot: foot.png
image_foot_shadow: SHADOW:foot.png
[leg_4]
x: 0
y: 0
attach_x: 6
attach_y: 26
copyFrom: 1
[leg_5]
x: 0
y: 0
attach_x: 2
attach_y: -5
copyFrom: 1
[leg_6]
x: 0
y: 0
attach_x: 2
attach_y: -5
copyFrom: 1
[action_瞬移]
price:  40000
text: Go!
text_zh:制作瞬移模块
displayType: NONE
buildSpeed: 10s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=10)
addResources: ammo=1
[action_指定]
fireTurretXAtGround: blink
price:  ammo=1
text: Select!Command!
text_zh:瞬移到指定位置
displayType: action
buildSpeed: 0.5
pos: 0.1
addActionCooldownTime: 45s
[projectile_blink]
teleportSource: true
instant: true
directDamage: 0
life: 99999
speed: 1
targetGround: true
deflectionPower:-1
shouldRevealFog:true
[turret_blink]
#
x: 21
y: 34
projectile: blink
invisible: true
resourceUsage:wwe=1000
energyUsage: 99999
limitingRange: 1000
[global_resource_wwe]
hidden:true
[projectile_2]
directDamage: 80
life: 240
speed: 0.3
targetSpeed: 5
trailEffect: true
largeHitEffect: true
#ballistic: true
#ballistic_delaymove_height:0
#ballistic_height: 4
frame: 4
areaDamage: 40
areaRadius: 35
autoTargetingOnDeadTarget: true
wobbleAmplitude: 1.0
wobbleFrequency: 0.7s