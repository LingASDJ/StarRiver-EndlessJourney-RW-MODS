[global_resource_Fire]
hidden:true
[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=3,withTag='GK',incompleteBuildings=true)
autoTriggerOnEvent: created
addResources: 50000
deleteSelf: true
showMessageToPlayer: [错误:最大发射井为3]
[core]
name: largeNukeLauncher
displayText: large nuke launcher
displayText_zh:大型核弹发射器
displayDescription: -Launches powerful nuclear missiles. \n -Requires missiles to be built \n -Testing unit
displayDescription_zh:-发射强大的核导弹。\n-需要制造导弹。
class: CustomUnitMetadata
price: 60000
maxHp: 2000
mass: 9000
isLockedIfGameModeNoNuke:true
#footprint used for collisions with units (left, up, right, down)
footprint: -2,-3,1,1
#used for placement, and placement of other buildings
constructionFootprint: -3,-4,2,2
techLevel: 1
buildSpeed: 0.001
#availableInDemo: true
radius: 35
#displayRadius: 25
isBio: false
isBuilding: true
tags:GK
exit_x:0
exit_y:-1
[action_ammo]
price:  ammo=1
text: ammunition surplus
text_zh:弹药剩余
description: -check the number of nukes left
description_zh:-检查剩余的核弹数量
displayType: infoOnly
buildSpeed: 0s
pos: -1
isActive:false
isVisible:true
displayRemainingStockpile:true
iconImage: SHARED:icon_nuke_stockpile.png
[action_buildNuke]
price:  11000
text: build nuclear bomb
text_zh:制造核弹
description: -Unlimited distance \n - large range of powerful strikes \n - up to 12
description_zh:-无限距离\n-大范围的强力打击\n-最多12个库存核弹
displayType: NONE
buildSpeed: 0.0004
pos: 0.1
isActive:if self.ammoIncludingQueued(lessThan=12)
addResources: ammo=1
iconImage: SHARED:icon_build.png
[action_launchNuke]
fireTurretXAtGround: siloTop0
price:  ammo=1
text: ordinary nuclear bomb
text_zh:普通核弹
description: -a more common nuclear bomb has a wide range of explosions and average damage. \n -It needs 1 round of ammunition
description_zh:-常见的核弹，其爆炸范围和平均伤害范围很广。 \n-需要1发弹药
displayType: action
buildSpeed: 3.5s
pos: 0.2
whenBuilding_playAnimation: fireNuke
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
#isAlsoViewableByEnemies: true
iconImage: SHARED:icon_attack_point.png
[action_launchNuke1]
fireTurretXAtGround: siloTop
price:  ammo=6
text: super nuclear bomb
text_zh:超级核弹
description: -Range damage is too wide. \n -6 rounds of ammunition are required to activate
description_zh:-范围伤害。\n需要发射6发弹药
displayType: action
buildSpeed: 3.5s
pos: 0.4
whenBuilding_playAnimation: fireNuke
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
#isAlsoViewableByEnemies: true
iconImage: SHARED:icon_attack_point.png
[action_launchNuke2]
fireTurretXAtGround: siloTop2A
price:  ammo=2
text: heavy nuclear bomb
text_zh:重型核弹
description: -a medium-sized missile carrying a large amount of nuclear explosives. \n -It has a wide range of damage. \n - It has five shock waves and no nuclear radiation. \n -It needs 2 rounds of ammunition
description_zh:-携带大量核爆炸物的中型导弹。  \n-损坏范围广。  \n-它有五个冲击波，没有核辐射。  \n-需要2发子弹
displayType: action
buildSpeed: 3.5s
pos: 0.3
whenBuilding_playAnimation: fireNuke
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
#isAlsoViewableByEnemies: true
iconImage: SHARED:icon_attack_point.png
[action_launchNuke3]
fireTurretXAtGround: siloTop0
price:  ammo=12
text: nuclear bomb barrage
text_zh:核弹弹幕盛宴
description: -launch a lot of nuclear bombs
description_zh:核弹弹幕盛宴开始了
displayType: action
buildSpeed: 3.5s
pos: 0.5
whenBuilding_playAnimation: fireNuke
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
#isAlsoViewableByEnemies: true
alsoQueueAction: fireSilo2
iconImage: SHARED:icon_attack_point.png
[hiddenAction_AI]
autoTrigger:if self.isControlledByAI() and self.hasResources(80000) and self.ammoIncludingQueued(lessThan=11)
alsoQueueAction:buildNuke
addResources: credits=-11000
[hiddenAction_AILanch]
autoTrigger:if self.isControlledByAI() and self.isAttacking
alsoQueueAction:nukePlay
#showMessageToAllPlayers:WANRING:AI已发射核弹，请立即拦截！
[hiddenAction_nukePlay]
buildSpeed: 13.5s
whenBuilding_playAnimation: fireNuke
addResources:credits=11000
[action_fireSilo2]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop2
buildSpeed: 0.1s
alsoQueueAction: fireSilo3
[action_fireSilo3]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop3
buildSpeed: 0.1s
alsoQueueAction: fireSilo4
[action_fireSilo4]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop4
buildSpeed: 0.1s
alsoQueueAction: fireSilo5
[action_fireSilo5]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop5
buildSpeed: 0.1s
alsoQueueAction: fireSilo6
[action_fireSilo6]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop6
buildSpeed: 0.1s
alsoQueueAction: fireSilo7
[action_fireSilo7]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop7
buildSpeed: 0.1s
alsoQueueAction: fireSilo8
[action_fireSilo8]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop8
buildSpeed: 0.1s
alsoQueueAction: fireSilo9
[action_fireSilo9]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop9
buildSpeed: 0.1s
alsoQueueAction: fireSilo10
[action_fireSilo10]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop10
buildSpeed: 0.1s
alsoQueueAction: fireSilo11
[action_fireSilo11]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop11
buildSpeed: 0.1s
alsoQueueAction: fireSilo12
[action_fireSilo12]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop6
buildSpeed: 0.1s
[graphics]
total_frames: 1
image: nuke_launcher_front2.png
image_back: nuke_launcher_back2.png
image_wreak: nuke_launcher_dead2.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1
[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if self.isControlledByAI
canAttackUnderwaterUnits: false
maxAttackRange: 99999
[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
maxTurnSpeed: 0
turnAcceleration: 0.1
[turret_siloTop0]
#nuke turret
canShoot: true
x: 0
y: -5
idleDir: 0
invisible: true
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
projectile: nukeProjectile0
size: 1
turnSpeed: 40
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6
limitingMinRange: 260
[turret_siloTop2]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.1s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop3]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.2s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop4]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.3s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop5]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.4s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop6]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.5s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop7]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.6s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop8]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.7s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop9]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.8s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop10]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 0.9s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop11]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 1.0s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop12]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop13]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop14]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop15]
#
copyFrom: siloTop0
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTop0
projectile: nukeProjectile3
[turret_siloTop]
#nuke turret
canShoot: false
x: 0
y: -5
idleDir: 0
invisible: true
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
projectile: nukeProjectile
size: 1
turnSpeed: 40
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6
limitingMinRange: 1100
[turret_siloTop2A]
#nuke turret
canShoot: false
x: 0
y: -5
idleDir: 0
invisible: true
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
projectile: nukeProjectile2
size: 1
turnSpeed: 40
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6
limitingMinRange: 370
[projectile_nukeProjectile0]
#nuke
tags: nuke
directDamage: 123
life: 99999
speed: 0.5
targetSpeed: 3.7
targetSpeedAcceleration:0.06
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#drawSize: 0.8
#frame: 0
#shadowFrame:1
#drawType: 1
image: projectile_nuke.png
targetGround: true
areaDamage: 5400
areaHitUnderwaterAlways: true
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaRadius: 250
areaExpandTime:75
armourIgnoreAmount: 100
deflectionPower:-1
shouldRevealFog:true
nukeWeapon:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true
#trailEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4
[projectile_nukeProjectile]
#nuke
tags: nukeX
directDamage: 123
life: 99999
speed: 0.1
targetSpeed: 2.5
targetSpeedAcceleration: 0.03
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#frame: 2
#shadowFrame:2
#drawType:1
image: projectile_rocket_large.png
targetGround: true
areaDamage: 0
#areaHitAirAndLandAtSameTime: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true
areaRadius: 0
areaExpandTime: 0
#alwaysVisibleInFog: true
#areaRadius: 0
#areaExpandTime:75
deflectionPower:-1
shouldRevealFog: true
nukeWeapon: true
#spawnUnit: superNukeExplosion
spawnUnit: ultraNukeExplosion
lightColor: #FFEEEE00
lightSize: 1
#friendlyFire: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 4
[projectile_nukeProjectile2]
#nuke
tags: nukeZ
directDamage: 123
life: 99999
speed: 0.2
targetSpeed: 3.1
targetSpeedAcceleration: 0.04
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#frame: 0
#shadowFrame:1
#drawType:1
image: projectile_largeNuke.png
targetGround: true
areaDamage: 0
#areaHitAirAndLandAtSameTime: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true
areaRadius: 0
areaExpandTime: 0
#alwaysVisibleInFog: true
#areaRadius: 0
#areaExpandTime:75
deflectionPower:-1
shouldRevealFog: true
nukeWeapon: true
spawnUnit: superNukeExplosion
#spawnUnit: ultraNukeExplosion
lightColor: #FFEEEE00
lightSize: 1
#friendlyFire: true
explodeEffect: NONE
explodeEffectOnShield: NONE
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 4
[projectile_nukeProjectile3]
#nuke
tags: nukeC
directDamage: 123
life: 99999
speed: 0.5
targetSpeed: 3.7
targetSpeedAcceleration:0.06
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 1100
retargetingInFlight:true
retargetingInFlightSearchDelay:10
retargetingInFlightSearchRange:1500
retargetingInFlightSearchLead:1
wobbleAmplitude: 0.6
wobbleFrequency: 0.8s
#drawSize: 0.8
#frame: 0
#shadowFrame:1
#drawType: 1
image: projectile_nuke.png
targetGround: true
targetGroundSpread: 50
areaDamage: 6000
areaHitUnderwaterAlways: true
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaRadius: 260
areaExpandTime:75
deflectionPower:-1
shouldRevealFog:true
nukeWeapon:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true
#trailEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4
[effect_projectileTrail]
stripIndex: effects
frameIndex: 0
life: 120
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.5
scaleTo: 3.5
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true
dirOffsetRandom:180
shadow:true
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2
[effect_nukeLaunch_wave]
priority:high
stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5
[effect_nukeLaunch_smoke]
priority:high
xOffsetAbsoluteRandom: 10
yOffsetAbsoluteRandom: 10
frameIndex: 0
stripIndex: smoke_black
spawnChance: 0.3
life: 90
fadeOut: true
attachedToUnit: false
#color: #fdc14d
color: #FFEEEE00
fadeInTime: 5
scaleFrom: 0.3
scaleTo: 0.8
alpha: 0.9
drawUnderUnits:false
liveAfterAttachedDies: false
hSpeed:0.4
xSpeedAbsoluteRandom:0.9
ySpeedAbsoluteRandom:0.9
dirOffsetRandom:180
atmospheric: true
[effect_nukeLaunch_light]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 1.7
scaleTo: 1.7
alpha: 0.7
drawUnderUnits:false
[projectile_randomTankNuke]
#tank nuke :p
directDamage: 123
spawnUnit: tank
life: 99999
speed: 0.1
targetSpeed: 2.7
targetSpeedAcceleration:0.02
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 0
shadowFrame:1
drawType:1
targetGround: true
deflectionPower:-1
lightColor: #FFEEEE00
lightSize: 1
[arm_1]
x:3
y:-1
image_end:nuke_launcher_door_r.png
#x:13
#y:-9
[arm_2]
x:-5
y:9
image_end:nuke_launcher_door_l.png
#x:-14
#y:14
[animation_fireNuke]
blendIn: 2.5s
blendOut: 3s
arm1_0: {x:14, y:-9}
arm2_0: {x:-10, y:6}
#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0} 
#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}
[animation_fireNuke2]
blendIn: 0.5s
blendOut: 2s
arm1_0: {x:9, y:-4}
arm2_0: {x:-5, y:1}
#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0} 
#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}
[ai]
disableUse: true
buildPriority: 0.01
noneInBaseExtraPriority: 0.04
noneGlobalExtraPriority: 0.1

[action_shjs]
price:1300000,风暴日晷=25000
text:终末核弹发射井
description:旧日帝国的疯狂已经蔓延到了每一个地方\n-终极末日核弹发射井是旧日最后的倔强。\n-没有知道下一个明日是否还会到来？\n-或许，一切已经尘埃落定。
allowMultipleInQueue:false
buildSpeed:120s
convertTo:EndNuke
ai_isHighPriority:true