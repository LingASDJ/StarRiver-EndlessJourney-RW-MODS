


[animation_开仓]
blendIn: 4s
blendOut: 7.5s
arm1_0s: {x:0, y:0}
arm2_0s: {x:0, y:0} 
arm1_1.400s: {x:10, y:-8}
arm2_1.400s: {x:-9, y:5}
arm1_3.400s: {x:10, y:-10}
arm2_3.400s: {x:-9, y:7}
arm1_5s: {x:20, y:-12}
arm2_5s: {x:-20, y:9}
arm1_7.5s: {x:15, y:-12}
arm2_7.5s: {x:-15, y:9}
arm1_0: {x:20, y:-12}
arm2_0: {x:-20, y:9}
body_1s: {frame:4}
body_1.2s: {frame:5}
body_1.4s: {frame:6}
body_1.6s: {frame:7}
body_2s: {frame:4}
body_2.2s: {frame:5}
body_2.4s: {frame:6}
body_2.6s: {frame:7}
body_1s: {frame:4}
body_3.2s: {frame:5}
body_3.4s: {frame:6}
body_3.6s: {frame:7}
body_4s: {frame:4}

[action_开造]
text:构造终末核弹
description:花费资金构造一个终末核弹,耗时120s\n不可取消
showMessageToAllPlayers:注意：玩家 %{self.playerName} 正在构造终末核弹！
alsoQueueAction:构造
displayType:infoOnly
buildSpeed:0s
price:500000,风暴日晷=40000
temporarilyAddTags:ALS
isLocked:if self.tags(includes='ALS')
isLockedMessage:您正在建造终末核弹或您已拥有终末核弹


[hiddenAction_构造]
buildSpeed:360s
showMessageToAllPlayers:注意！玩家 %{self.playerName} 已经制造了一个终末核弹
addResources:存量=1

[resource_存量]
hidden:true
displayName:核弹存量


[action_核弹发射]
buildSpeed:5s
text:终末核弹
description:对所有无知的人们做最后的判决----死亡
temporarilyRemoveTags:ALS
allowMultipleInQueue:false
isLocked:if self.resource.存量==0
isLockedMessage:您需要先制做一枚终末核弹
fireTurretXAtGround:HD
addActionCooldownTime:120s
canPlayerCancel:false
addActionCooldownTime:120s
whenBuilding_playAnimation:开仓
whenBuilding_triggerAction:播放音效

[action_核弹发射A]
buildSpeed:5s
text:重型核弹
description:发射危险的重型核弹
allowMultipleInQueue:false
isLocked:if self.resource.重型==0
isLockedMessage:您需要先制做一枚重型核弹
fireTurretXAtGround:siloTop2A
canPlayerCancel:false
whenBuilding_playAnimation:开仓
whenBuilding_triggerAction:播放音效
addResources: 重型=-1

[action_核弹发射B]
buildSpeed:5s
text:超级核弹
description:发射致命的超级核弹
allowMultipleInQueue:false
isLocked:if self.resource.超级==0
isLockedMessage:您需要先制做一枚开火核弹
fireTurretXAtGround:siloTop
canPlayerCancel:false
whenBuilding_playAnimation:开仓
whenBuilding_triggerAction:播放音效
addResources: 超级=-1

[hiddenAction_播放音效]
playSoundGlobally:.1.ogg:2,.2.ogg:2


[turret_HD]
x:0
y:0
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
resourceUsage:存量=1
limitingRange:114514
projectile:HD

[projectile_HD]
areaDamage:114514
areaRadius:200
nukeWeapon:true
speed:2
trailEffect:true
ballistic:true
ballistic_delaymove_height:400
ballistic_height:400
life:114514
image:.3.png
spawnUnit:核弹爆炸
deflectionPower:-1

[arm_2]
x:6
y:-25
image_end:.l.png

[arm_1]
x:15
y:-30
image_end:.r.png


[core]
tags:终末核弹
radius:60
dont_load:false
footprint:-3,-3,3,3
constructionFootprint:-3,-3,3,3
name:EndNuke
buildingSelectionOffset:0
class:CustomUnitMetadata
isBuilding:true
tags:GKD
#自己写价格
price:0

armour:20
maxHp:200000
mass:45000
maxShield:0
autoTriggerCooldownTime:1s
shieldRegen:0
techLevel:1
buildSpeed:60s
displayText:终末核弹发射井
displayDescription:-为了旧日的荣光，竭尽全力去试试看吧！！！

[graphics]
total_frames:8
image:.1.png
image_back:.2.png

rotate_with_direction:false
image_turret:NONE
image_offsetX:0
image_offsetY:0
image_shadow:AUTO
shadowOffsetX:-4
shadowOffsetY:0

animation_idle_start:0
animation_idle_end:3
animation_idle_speed:7



[attack]
canAttack:false
maxAttackRange:114514


[movement]
movementType:BUILDING

[hiddenAction_nukePlay]
buildSpeed: 3.5s
whenBuilding_playAnimation: fireNuke

[global_resource_重型]
hidden:false
displayName:重型核弹库存数量
displayNameShort:重型核弹库存数量
[global_resource_开火]
hidden:false
[global_resource_超级]
hidden:false
displayName:超级核弹库存数量
displayNameShort:超级核弹库存数量
[global_resource_盛宴]
displayName:核弹盛宴库存数量
displayNameShort:核弹盛宴库存数量
hidden:false
[action_ammo]
price:  ammo=1
text: ammunition surplus
text_zh:弹药剩余
description: -check the number of nukes left
description_zh:-检查剩余的核弹数量
displayType: infoOnly
buildSpeed: 0s
pos: -1
isActive:false
isVisible:true
displayRemainingStockpile:true
iconImage: SHARED:icon_nuke_stockpile.png
[action_buildNuke2]
price:  60000
text: build nuclear bomb
text_zh:制造重型核弹
description: -Unlimited distance \n - large range of powerful strikes \n - up to 12
description_zh:-无限距离\n-大范围的强力打击\n-最多4个库存重型核弹
displayType: NONE
buildSpeed: 35s
pos: 0.1
isActive:if self.resource(type='重型',lessThan=4)
addResources: 重型=1,开火=1
iconImage: SHARED:icon_build.png
ai_isHighPriority:true
[action_buildNuke3]
price:  101010
text: build nuclear bomb
text_zh:制造超级核弹
description: -Unlimited distance \n - large range of powerful strikes \n - up to 12
description_zh:-无限距离\n-大范围的强力打击\n-最多1个库存超级核弹
displayType: NONE
buildSpeed: 160s
pos: 0.1
isActive:if self.resource(type='超级',lessThan=4)
addResources: 超级=1,开火=1
iconImage: SHARED:icon_build.png
ai_isHighPriority:true

[action_盛宴]
price:  202020
text: nuclear bomb barrage
text_zh:核弹弹幕盛宴
description: -launch a lot of nuclear bombs
allowMultipleInQueue:false
description_zh:核弹弹幕盛宴开始了
displayType: action
buildSpeed: 120s
pos: 0.5
whenBuilding_playAnimation: fireNuke
iconImage: SHARED:icon_attack_point.png
ai_isHighPriority:true
addResources: 盛宴=15,开火=1
showMessageToAllPlayers:警告：%{self.teamName}队伍的核弹弹幕盛宴正在袭来。
isLocked:if not self.isControlledByAI()
isLockedMessage:盛宴为AI独享，玩家无法制作

[action_fireSilo2]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop2
buildSpeed: 0.1s
alsoQueueAction: fireSilo3
[action_fireSilo3]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop3
buildSpeed: 0.1s
alsoQueueAction: fireSilo4
[action_fireSilo4]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop4
buildSpeed: 0.1s
alsoQueueAction: fireSilo5
[action_fireSilo5]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop5
buildSpeed: 0.1s
alsoQueueAction: fireSilo6
[action_fireSilo6]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop6
buildSpeed: 0.1s
alsoQueueAction: fireSilo7
[action_fireSilo7]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop7
buildSpeed: 0.1s
alsoQueueAction: fireSilo8
[action_fireSilo8]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop8
buildSpeed: 0.1s
alsoQueueAction: fireSilo9
[action_fireSilo9]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop9
buildSpeed: 0.1s
alsoQueueAction: fireSilo10
[action_fireSilo10]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop10
buildSpeed: 0.1s
alsoQueueAction: fireSilo11
[action_fireSilo11]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop11
buildSpeed: 0.1s
alsoQueueAction: fireSilo12
[action_fireSilo12]
whenBuilding_playAnimation: fireNuke
isVisible: false
highPriorityQueue: true
fireTurretXAtGround:siloTop6
buildSpeed: 0.1s


[turret_siloTop]
#nuke turret
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
x: 0
y: -5
idleDir: 0
invisible: true
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
warmup:3.5s
projectile: nukeProjectile
size: 1
turnSpeed: 40
resourceUsage:超级=1
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6
limitingMinRange: 9
[turret_siloTop2A]
#nuke turret
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
x: 0
y: -5
idleDir: 0
invisible: true
resourceUsage:重型=1
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
projectile: nukeProjectile2
size: 1
turnSpeed: 40
warmup:3.5s
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6
limitingMinRange: 9
[turret_siloTop0]
#nuke turret
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
x: 0
y: -5
idleDir: 0
invisible: true
#onShoot_playAnimation:fireNuke
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
#resourceUsage:普通=1
projectile: nukeProjectile0
size: 1
turnSpeed: 40
warmup:3.5s
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6

[turret_siloTopZ]
#nuke turret
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
x: 0
y: -5
idleDir: 0
invisible: true
#onShoot_playAnimation:fireNuke
shoot_sound:nuke_launch
shoot_sound_vol:0.27
shoot_light:#FFEECCCC
resourceUsage:盛宴=1
projectile: nukeProjectile0
size: 1
turnSpeed: 40
warmup:3.5s
#shoot_flame:shockwave
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
#custom:nukeLaunch_smoke*6

limitingMinRange: 9
[turret_siloTop2]
#
copyFrom: siloTopZ
x: 0
y: -5
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
resourceUsage:盛宴=1
projectile: nukeProjectile0
#warmup: 0.1s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile3
[turret_siloTop3]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.2s
linkDelayWithTurret: siloTopZ
canShoot: true
canAttackFlyingUnits: if self.isControlledByAI()
canAttackLandUnits:   if self.isControlledByAI()
canAttackUnderwaterUnits: if self.isControlledByAI()
resourceUsage:盛宴=1
projectile: nukeProjectile3
[turret_siloTop4]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.3s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile3
[turret_siloTop5]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.4s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile2
[turret_siloTop6]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.5s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile2
[turret_siloTop7]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.6s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile2
[turret_siloTop8]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.7s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile0
[turret_siloTop9]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.8s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile2
[turret_siloTop10]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 0.9s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile0
[turret_siloTop11]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 1.0s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile
[turret_siloTop12]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile
[turret_siloTop13]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile3
[turret_siloTop14]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile3
[turret_siloTop15]
#
copyFrom: siloTopZ
x: 0
y: -5
#warmup: 1.1s
linkDelayWithTurret: siloTopZ
projectile: nukeProjectile3
[projectile_nukeProjectile0]
#nuke
tags: nuke
directDamage: 123
life: 99999
speed: 0.5
targetSpeed: 3.7
targetSpeedAcceleration:0.06
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#drawSize: 0.8
#frame: 0
#shadowFrame:1
#drawType: 1
image: projectile_nuke.png
targetGround: true
areaDamage: 5400
areaHitUnderwaterAlways: true
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaRadius: 250
areaExpandTime:75
armourIgnoreAmount: 100
deflectionPower:-1
shouldRevealFog:true
nukeWeapon:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true
#trailEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4
[projectile_nukeProjectile]
#nuke
tags: nukeX
directDamage: 123
life: 99999
speed: 0.1
targetSpeed: 2.5
targetSpeedAcceleration: 0.03
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#frame: 2
#shadowFrame:2
#drawType:1
image: projectile_rocket_large.png
targetGround: true
areaDamage: 0
spawnProjectilesOnExplode:nukeProjectile5
#areaHitAirAndLandAtSameTime: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true
areaRadius: 0
areaExpandTime: 0
#alwaysVisibleInFog: true
#areaRadius: 0
#areaExpandTime:75
deflectionPower:-1
shouldRevealFog: true
nukeWeapon: true
#spawnUnit: superNukeExplosion
spawnUnit: ultraNukeExplosion
lightColor: #FFEEEE00
lightSize: 1
#friendlyFire: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 4

[projectile_nukeProjectile5]
#nuke
tags: nukeZ
directDamage: 123
life: 99999
speed: 0.1
targetSpeed: 2.5
targetSpeedAcceleration: 0.03
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#frame: 2
#shadowFrame:2
#drawType:1
image: projectile_rocket_large.png
targetGround: true
areaDamage: 0
#areaHitAirAndLandAtSameTime: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true
areaRadius: 0
areaExpandTime: 0
#alwaysVisibleInFog: true
#areaRadius: 0
#areaExpandTime:75
deflectionPower:-1
shouldRevealFog: true
nukeWeapon: true
#spawnUnit: superNukeExplosion
spawnUnit: ultraNukeExplosion
lightColor: #FFEEEE00
lightSize: 1
#friendlyFire: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 4

[projectile_nukeProjectile2]
#nuke
tags: nukeC
directDamage: 123000
life: 99999
speed: 0.2
targetSpeed: 3.1
targetSpeedAcceleration: 0.04
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
#frame: 0
#shadowFrame:1
#drawType:1
image: projectile_largeNuke.png
targetGround: true
areaDamage: 0
#areaHitAirAndLandAtSameTime: true
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true
areaRadius: 0
areaExpandTime: 0
#alwaysVisibleInFog: true
#areaRadius: 0
#areaExpandTime:75
deflectionPower:-1
shouldRevealFog: true
nukeWeapon: true
spawnUnit: superNukeExplosion
#spawnUnit: ultraNukeExplosion
lightColor: #FFEEEE00
lightSize: 1
#friendlyFire: true
explodeEffect: NONE
explodeEffectOnShield: NONE
trailEffect: CUSTOM:projectileTrail
trailEffectRate: 4
[projectile_nukeProjectile3]
#nuke
tags: nuke
directDamage: 123
life: 99999
speed: 0.5
targetSpeed: 3.7
targetSpeedAcceleration:0.06
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 1100
retargetingInFlight:true
retargetingInFlightSearchDelay:10
retargetingInFlightSearchRange:1500
retargetingInFlightSearchLead:1
wobbleAmplitude: 0.6
wobbleFrequency: 0.8s
#drawSize: 0.8
#frame: 0
#shadowFrame:1
#drawType: 1
image: projectile_nuke.png
targetGround: true
targetGroundSpread: 50
areaDamage: 6000
areaHitUnderwaterAlways: true
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaRadius: 260
areaExpandTime:75
deflectionPower:-1
shouldRevealFog:true
nukeWeapon:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true
#trailEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4
[effect_projectileTrail]
stripIndex: effects
frameIndex: 0
life: 120
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.5
scaleTo: 3.5
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true
dirOffsetRandom:180
shadow:true
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2
[effect_nukeLaunch_wave]
priority:high
stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5
[effect_nukeLaunch_smoke]
priority:high
xOffsetAbsoluteRandom: 10
yOffsetAbsoluteRandom: 10
frameIndex: 0
stripIndex: smoke_black
spawnChance: 0.3
life: 90
fadeOut: true
attachedToUnit: false
#color: #fdc14d
color: #FFEEEE00
fadeInTime: 5
scaleFrom: 0.3
scaleTo: 0.8
alpha: 0.9
drawUnderUnits:false
liveAfterAttachedDies: false
hSpeed:0.4
xSpeedAbsoluteRandom:0.9
ySpeedAbsoluteRandom:0.9
dirOffsetRandom:180
atmospheric: true
[effect_nukeLaunch_light]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 1.7
scaleTo: 1.7
alpha: 0.7
drawUnderUnits:false
[projectile_randomTankNuke]
#tank nuke :p
directDamage: 123
spawnUnit: tank
life: 99999
speed: 0.1
targetSpeed: 2.7
targetSpeedAcceleration:0.02
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 0
shadowFrame:1
drawType:1
targetGround: true
deflectionPower:-1
lightColor: #FFEEEE00
lightSize: 1

[animation_fireNuke]
blendIn: 2.5s
blendOut: 3s
arm1_0: {x:14, y:-9}
arm2_0: {x:-10, y:6}
#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0} 
#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}
[animation_fireNuke2]
blendIn: 0.5s
blendOut: 2s
arm1_0: {x:9, y:-4}
arm2_0: {x:-5, y:1}
#arm1_0s: {x:0, y:0}
#arm2_0s: {x:0, y:0} 
#arm1_1.400s: {x:10, y:-8}
#arm2_1.400s: {x:-9, y:5}
[global_resource_Fire]
hidden:true

[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=1,withTag='GKD',incompleteBuildings=true)
autoTriggerOnEvent: created
addResources: 50000
deleteSelf: true
showMessageToPlayer: [错误:最大发射井为1]


