[core]
showInEditor: ${hiddenUnits}
copyFrom: ROOT:.特效模块/effects.template
name: gateBlock
displayText: Gate Block
displayText_zh:闸门块
displayText_en: Gate Block
displayDescription: -Blocks enemy fire and unit path \n-Can be open using Gate Keys
displayDescription_zh:-阻挡敌人火力和单位路径\n-可以使用门钥匙打开
displayDescription_en: -Blocks enemy fire and unit path \n-Can be open using Gate Keys
class: CustomUnitMetadata
price: 500
maxHp: 1000
mass: 9000

tags: gate, closedGate

#createOnAggressiveTeam: true

#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1

#used for placement, and placement of other buildings
constructionFootprint: -0,-0,1,1
buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20

techLevel: 1
buildSpeed: 6s

radius: 17
#displayRadius: 25
isBio: false
isBuilding: true

energyMax: 1
energyRegen: -1
energyStartingPercentage: 0

canOnlyBeAttackedByUnitsWithTags: gate, gateKey

fogOfWarSightRange: 0

[action_open]
text: Open
text_zh:打开
text_en: Open
autoTrigger: if self.ammo(greaterThan=0)
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: -40,0
alsoTriggerAction: right, up, down
convertTo: gateBlockOpen
addResources: ammo=-1

[hiddenAction_right]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 40,0

[hiddenAction_up]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 0,40

[hiddenAction_down]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 0,-40

[turret_chain]
x:0
y:0

[projectile_chain]
life:100
speed:1
areaDamage:0
areaRadius: 40
explodeEffect: NONE
drawSize: 1.5
color:#00ff00
friendlyFire: only-ignoreEnemy
mutatorX_ifUnitWithTags: gate
mutatorX_addResourcesAreaHit: ammo=1

[graphics]
total_frames: 1
imageScale: 1
image: gate_block.png
image_wreak:  NONE

#AUTO
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

showEnergyBar: false

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1