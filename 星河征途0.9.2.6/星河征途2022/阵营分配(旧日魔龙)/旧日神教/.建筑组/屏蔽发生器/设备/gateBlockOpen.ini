[core]
showInEditor: ${hiddenUnits}
copyFrom: gateBlock.ini
name: gateBlockOpen

disableAllUnitCollisions: true

energyRegen: 0

tags: gate, openGate

[action_open]
isVisible: false

[action_close]
text: Close
text_zh:关闭
text_en: Close
autoTrigger: if self.energy(greaterThan=0)
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: -40,0
alsoTriggerAction: right2, up2, down2
convertTo: gateBlock
addResources: energy=-1

[hiddenAction_right2]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 40,0

[hiddenAction_up2]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 0,40

[hiddenAction_down2]
fireTurretXAtGround: chain
fireTurretXAtGround_withOffset: 0,-40

[turret_chain]
x:0
y:0

[projectile_chain]
life:100
speed:1
areaDamage:0
areaRadius: 40
drawSize: 1.5
color:#00ff00
explodeEffect: NONE
friendlyFire: only-ignoreEnemy
mutatorX_ifUnitWithTags: gate
mutatorX_addResourcesAreaHit: energy=1

[graphics]
image: gate_block_open.png

[movement]
targetHeight: -20
targetHeightDrift: 0