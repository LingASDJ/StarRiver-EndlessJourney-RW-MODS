
[core]
name: 舞者起飞

displayText: Dancer
displayText_zh: 舞者
displayDescription:-Otrez carrier based fighter aircraft\n-Rapid fire machine gun\n-Space torpedo
displayDescription_zh: -奥特莱兹舰载战斗机\n-速射机炮\n-陆空兼顾的空际鱼雷

class: CustomUnitMetadata
price: 114514
maxHp: 600
mass: 250
showInEditor:false
techLevel: 2
buildSpeed: 0.0006
availableInDemo: true
numBitsOnDeath: 12
radius: 27
displayRadius: 33
isBio: false
#softCollisionOnAll: 3
softCollisionOnAll:48
fogOfWarSightRange: 22
tags:dancer
selfRegenRate:0.025
showOnMinimap:true
builtFrom_1_name: NONE
builtFrom_1_pos:  5.9

transportSlotsNeeded: 1

energyMax: 12
energyRegen: 0.04
energyNeedsToRechargeToFull: true

[graphics]
image:  .舰载机.png
image_wreak:  .舰载机死亡.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9
image_shadow:SHADOW:.舰载机.png
shadowOffsetX:0
shadowOffsetY:0
icon_zoomed_out:空白.png
#splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
isMelee:true
turretSize: 1
turretTurnSpeed: 7
#isFixedFiring: true

disablePassiveTargeting: false

maxAttackRange: 450
shootDelay: 150
meleeEngangementDistance:750
attackMovement: bomber

aimOffsetSpread: 0.5
[turret_cannon1]
x: -6
y: 13.5
projectile: gun
size:0
invisible:true
turnSpeed: 114514
delay:0.1s
shoot_sound:large_gun_fire2
shoot_sound_vol:0.18
shoot_flame:large
shoot_light:#FFff925c
canShoot: true
warmup:0
[turret_cannon2]
x: 6
y: 13.5
projectile: gun
size:0
invisible:true
turnSpeed: 114514
delay:0.1s
shoot_sound:large_gun_fire2
shoot_sound_vol:0.18
shoot_flame:large
shoot_light:#FFff925c
canShoot: true
warmup:0
[projectile_gun]
areaDamage: 45
areaRadius: 15
life: 400
frame: 5
speed: 14
drawSize: 1
largeHitEffect: true
lightColor: #ffff925c
lightSize: 0
image:.机炮.png
[turret_t1]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
delay:2.5s
projectile: 2
size: 1
turnSpeed: 114514
shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
aimOffsetSpread:2

[projectile_2]
#torpedo
areaDamage: 600
areaRadius: 80

life: 400
speed: 0
targetSpeed: 6
drawSize: 0.8
trailEffect: true
largeHitEffect: true
image:torpedo.png
drawUnderUnits:true
trailEffect: CUSTOM:trail3


explodeEffect: largeExplosion, CUSTOM:shockwave
explodeEffectOnShield: largeExplosion, CUSTOM:shockwave
[effect_shockwave]
priority:high

stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5

alsoPlaySound:buiding_explode:4

[effect_projectileTrail]

stripIndex: effects
frameIndex: 0
#image: SHARED:light_50.png

life: 20
fadeOut: true
attachedToUnit: false
color: #ffff925c
fadeInTime:5
scaleFrom: 0.6
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

ySpeedRelative:0.8
[effect_trail3]


createWhenZoomedOut: false

xOffsetRelative: 0

yOffsetRelative: -10


image: trail.png

life: 40

fadeOut: true

attachedToUnit: false

fadeInTime:2

scaleFrom: 4

scaleTo: 0

alpha: 6

drawUnderUnits:true

priority:high
[effect_nukeLaunch_wave]
priority:high

stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5

[effect_nukeLaunch_smoke]
priority:high

xOffsetAbsoluteRandom: 10
yOffsetAbsoluteRandom: 10

frameIndex: 0
stripIndex: smoke_black

spawnChance: 0.3

life: 90
fadeOut: true
attachedToUnit: false
#color: #fdc14d
color: #FFEEEE00

fadeInTime:5
scaleFrom: 0.3
scaleTo: 0.8
alpha: 0.9
drawUnderUnits:false
liveAfterAttachedDies: false
hSpeed:0.4
xSpeedAbsoluteRandom:0.9
ySpeedAbsoluteRandom:0.9
dirOffsetRandom:180
atmospheric: true


[effect_nukeLaunch_light]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 1.7
scaleTo: 1.7
alpha: 0.7
drawUnderUnits:false
[movement]
movementType: AIR

targetHeight: 15
targetHeightDrift: 1

reverseSpeedPercentage: 0

moveSpeed: 5.8
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.0075

maxTurnSpeed: 3.2
turnAcceleration: 0.15


moveSlidingMode: false
moveIgnoringBody:false

slowDeathFall: true


[hiddenAction_巡航]
autoTrigger: if self.hasUnitInTeam(withTag='otrezAlive', withinRange=1000) and not self.hasActiveWaypoint(type='follow') and not self.hasParent()
clearAllWaypoints: true
addWaypoint_type: attackmove
addWaypoint_target_nearestUnit_tagged: otrezAlive
addWaypoint_target_nearestUnit_team: own

[hiddenAction_回库]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezAttacking') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent() and not numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=1000)
clearAllWaypoints: true
addWaypoint_type: loadInto
addWaypoint_target_nearestUnit_tagged: otrezUnfull
addWaypoint_target_nearestUnit_team: own

[hiddenAction_死亡]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezAlive')
addResources=hp=-114514

[hiddenAction_降落]
autoTrigger: if self.hasParent()
convertTo: 奥特莱兹舰载机

[hiddenAction_击毁]
autoTriggerOnEvent:destroyed
addResources=奥特莱兹舰载机坠毁数=1

[hiddenAction_无家可归]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezUnfull') and not self.resource(type='奥特莱兹舰载机坠毁数',greaterThan=0)
convertTo:舞者起飞无资源

[hiddenAction_无家可归2]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezUnfull') and self.resource(type='奥特莱兹舰载机坠毁数',greaterThan=0)
convertTo:舞者起飞无资源2