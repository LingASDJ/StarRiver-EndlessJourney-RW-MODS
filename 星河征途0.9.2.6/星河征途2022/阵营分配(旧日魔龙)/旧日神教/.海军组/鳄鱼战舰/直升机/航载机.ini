[effect_EkRotorwash]
image: rotorwash.png
createWhenOverLand: false
life: 40
spawnChance: 1
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 0.25
scaleTo: 1.5
alpha: 0.5
drawUnderUnits:true
hOffset: -40
dirOffsetRandom: 180
dirSpeedRandom: 0.6
atmospheric: true

[effect_EkRotordust]
image: rotorwash.png
createWhenOverLiquid: false
life: 40
spawnChance: 1
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 0.25
scaleTo: 1.5
alpha: 1
color: #916C5B
drawUnderUnits:true
hOffset: -40
dirOffsetRandom: 180
dirSpeedRandom: 0.6
atmospheric: true

[core]
name: c_helicopterR
class: CustomUnitMetadata
price: 700
maxHp: 150
mass: 3000

showInEditor: false
displayText:直升机
displayText_zh:helicopter


tags: ZSJ

techLevel: 1

buildSpeed: 0.0012
availableInDemo: true

radius: 15
displayRadius: 9
softCollisionOnAll: 24

isBio: false

builtFrom_1_name: airFactoryjccj
builtFrom_1_pos:  3


[graphics]

total_frames: 1
image:        helicopter.png
image_wreak:  helicopter_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9



#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

teamColorsOnTurret: true
#splastEffect: true
movementEffect: CUSTOM:EkRotorwash, CUSTOM:EkRotordust
movementEffectRate: 6
lock_body_rotation_with_main_turret: false

[attack]
turretRotateWithBody: false

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


turretSize: 4
#turretTurnSpeed: 2

aimOffsetSpread:0.4


maxAttackRange: 130
shootDelay: 60

isFixedFiring: false


[turret_1]
invisible: true
x: 0
y: 16
idleDir:0

projectile: 1


turnSpeed: 15
turnSpeedAcceleration: 15


shoot_sound:gun_fire
shoot_sound_vol:0.2
shoot_flame:small
shoot_light:#FFEEEE00




#recoilOffset: -2
#recoilOutTime: 10
#recoilReturnTime: 14




[arm_1]
x:0
y:0
image_end:helicopter_blades.png

drawOverBody: true


spinRate:30


[projectile_1]
directDamage: 17
life: 70
speed: 10
frame: 5
drawSize: 0.7
#instant:true


[movement]
movementType: AIR
targetHeight: 15
targetHeightDrift: 1
reverseSpeedPercentage: 0
moveSpeed: 3
moveAccelerationSpeed: 3
moveDecelerationSpeed: 0
maxTurnSpeed: 6
turnAcceleration: 0.1
moveSlidingMode: true
moveIgnoringBody:false
moveSlidingDir: 360
slowDeathFall: true

[hiddenAction_起飞]
autoTrigger: if self.hasParent(withTag='otrezAttacking') and not self.hasUnitInTeam(withTag='重置器2')
disconnectFromParent: true
[hiddenAction_巡航]
autoTrigger: if self.hasUnitInTeam(withTag='otrezAlive', withinRange=1000) and not self.hasActiveWaypoint(type='follow') and not self.hasParent()
clearAllWaypoints: true
addWaypoint_type: attackmove
addWaypoint_target_nearestUnit_tagged: otrezAlive
addWaypoint_target_nearestUnit_team: own
[hiddenAction_返航]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezAlive', withinRange=1000) and not self.hasActiveWaypoint(type='follow') and not self.hasParent()
clearAllWaypoints: true
addWaypoint_type: follow
addWaypoint_target_nearestUnit_tagged: otrezAlive
addWaypoint_target_nearestUnit_team: own
addWaypoint_maxTime: 1s
[hiddenAction_脱离]
autoTrigger: if self.hasUnitInTeam(withTag='otrezAttacking') and not self.hasActiveWaypoint(type='loadInto') and not self.hasParent()
clearAllWaypoints: true
addWaypoint_type: loadInto
addWaypoint_target_nearestUnit_tagged: otrezUnfull
addWaypoint_target_nearestUnit_team: own
[hiddenAction_死亡]
autoTrigger: if not self.hasUnitInTeam(withTag='otrezAlive')
[hiddenAction_起飞转变]
autoTrigger: if not self.hasParent()
convertTo: c_helicopter2

[action_areaShockywave]
autoTrigger: if not numberOfUnitsInTeam(greaterThan=0,withTag='EY',incompleteBuildings=true)
displayType: action
buildSpeed: 3s
addResources: hp=-999999

