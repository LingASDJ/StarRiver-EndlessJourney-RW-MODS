

[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=1,withTag='CXSM',incompleteBuildings=true)
autoTriggerOnEvent: created
addResources: 150000,异源邪能=3750
deleteSelf: true
showMessageToPlayer: [错误:慈祥圣母-拉啦最大数量为1]

[core]
name: CXSM
class: CustomUnitMetadata
price: 150000,异源邪能=3750

displayText: 慈祥圣母-拉啦
displayDescription: -生灵的脆弱不堪导致他们难以生存在这个世界之上，在黄金蝶的洗礼下净化并虔诚的接受一切吧。\n-来自于魔法的造物，拉啦一直知道人们的痛苦。但它却不知道他们痛苦的根源，或许，这就是所谓慈祥下的无知吧。

@global spawnUnitsType:Gold
@global spawnUnitsNum:4
@global reloadTime:4
tags:拉啦母体,CXSM
transportUnitsCanUnloadUnits:false
maxTransportingUnits:4
transportUnitsRequireTag:拉啦灵蝶
transportUnitsRequireMovementType:AIR

copyFrom:HMMB.thh

maxHp: 50000
mass: 10000
maxShield:50000
techLevel: 2
experimental: true

buildSpeed: 125s

radius: 120
displayRadius: 120

fogOfWarSightRange:45

transportSlotsNeeded: 5
isBio: false
softCollisionOnAll: 3

selfRegenRate:0.8
autoRepair: true

[graphics]
total_frames: 4
image: Cxsm.png
image_wreak:  NONE
image_turret: NONE
scaleImagesTo: 80
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1
showTransportBar:false

animation_moving_start: 0
animation_moving_end: 3
animation_moving_speed: 10

animation_idle_start: 0
animation_idle_end: 1
animation_idle_speed: 10

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 2
maxAttackRange: 750
shootDelay: 3

[effect_lightSlowFade]
image: SHARED:light_50.png
life:80
lifeRandom:10
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom:10
scaleTo:9.9
alpha: 0.1
#drawUnderUnits:true

[hiddenAction_释放]
autoTrigger:true
takeResources: energy=-0.2,hp=-17
takeResources_includeUnitsWithinRange:208
takeResources_includeUnitsWithinRange_team:own
takeResources_discardCollected: true
takeResources_keepResourcesOnTarget: false
takeResources_maxUnits:6
fireTurretXAtGround:效果2
fireTurretXAtGround_withProjectile:效果

[projectile_效果]
instant: true
directDamage: 0
life:0
targetGround: true
deflectionPower:-1
explodeEffect:NONE
areaDamage:10
areaRadius:150
armourIgnoreAmount:9999999
areaDamageNoFalloff:true
areaHitAirAndLandAtSameTime:true

[effect_圆环]
priority:high
image:圆环X.png
life:100
#lifeRandom:30
fadeOut: true
attachedToUnit: false
scaleFrom: 0.43
scaleTo: 0.83
alpha:0.8

[effect_blinkSpark]
priority:high
image: SHARED:light_25.png
life:50
lifeRandom:5
fadeOut: true
attachedToUnit: false
color: #ABEFEF
scaleFrom: 0.4
scaleTo: 0.9
alpha:0.4
drawUnderUnits:false
xOffsetAbsoluteRandom:205
yOffsetAbsoluteRandom:205
xOffsetRelativeRandom:30
yOffsetRelativeRandom:30
xSpeedAbsoluteRandom:1.4
ySpeedAbsoluteRandom:1.4
delayedStartTimer:30
delayedStartTimerRandom:30
physics:true
physicsGravity:-0.4


[turret_效果2]
x: 0
y: 0
onShoot_playAnimation:效果
canShoot:false

[turret_效果]
x: 0
y: 0
limitingRange:450

[animation_效果]
effect_0.0s: {x:0, y:0, name:CUSTOM|圆环*1}
effect_0.1s: {x:0, y:0, name:CUSTOM|lightSlowFade*1}
effect_0.2s: {x:0, y:0, name:CUSTOM|圆环*1}
effect_0.5s: {x:0, y:0, name:CUSTOM|blinkSpark*5}
effect_1.0s: {x:0, y:0, name:CUSTOM|blinkSpark*10}
effect_1.5s: {x:0, y:0, name:CUSTOM|blinkSpark*16}

[turret_1]
#left missile pod
x: 0
y: 100
invisible: true
shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_light:#FFEECCCC
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 1
size:30
limitingAngle:45
recoilOffset:-4

[projectile_1]
directDamage:40
armourIgnoreAmount:9999999
life:6
#speed:1
frame:15
drawSize:1
#targetSpeed:3
color: yellow
deflectionPower:-1
instant:true
laserEffect:true
instantReuseLast_alsoChangeTurretAim:true
instantReuseLast:true
moveWithParent:true
beamImage:SHARED:beam1.png
beamImageEnd:SHARED:beam1_end.png
beamImageStart:SHARED:beam1_start.png
beamImageOffsetRate:0.6
sweepOffsetFromTargetRadius:0.5

[leg_1]
x: 18
y: 18
attach_x: 0
attach_y: 0
moveSpeed: 2.1
resetAngle:20

image_foot: Laleg.png

[leg_2]
x: 18
y: 85
attach_x: 0
attach_y: 0
copyFrom: 1

[leg_3]
x: -18
y: 85
attach_x: 0
attach_y: 0
copyFrom: 1

[leg_4]
x: -18
y: 18
attach_x: 0
attach_y: 0
copyFrom: 1

[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 0.7
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.05

targetHeight: 2
targetHeightDrift: 0


maxTurnSpeed: 0.5
turnAcceleration: 0.2

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  45


slowDeathFall: true