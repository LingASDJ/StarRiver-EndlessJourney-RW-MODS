
[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=1,withTag='雅娜母舰',incompleteBuildings=true)
autoTriggerOnEvent: created
#addResources: 75700,风暴日晷=1250
deleteSelf: true
showMessageToPlayer: [错误:最多1个雅娜母舰]

[core]
name: 雅娜母舰
class: CustomUnitMetadata
price: 1200000,妖姬粒子=32000
maxHp: 80000
mass: 90000000
displayText:Yana Mothership
displayDescription:-Large regular aircraft carrier\n-6 weak-fire near-anti-cannon\n-4 devastating bombers\n-8 powerful fighters\n-carrier-based aircraft construction is cost-free\n- launch a nuclear bomb every 20s.

isLockedIfGameModeNoNuke:true

displayText_zh:雅娜母舰
displayDescription_zh:-大型正规航空母舰\n-6座弱火力近防炮\n-4架毁灭性轰炸机\n-8架强力战斗机\n-舰载机建造无消耗\n-每20s发射一枚核弹。

techLevel: 1
experimental: true
buildSpeed: 168s
#availableInDemo: true
maxShield: 40000
shieldRegen: 6
shieldRenderRadius:0
tags:雅娜母舰
fogOfWarSightRange: 50
radius: 50
displayRadius: 130
maxTransportingUnits: 2
transportUnitsAddUnloadOption: false
isBio: false
selfRegenRate:4
builtFrom_1_name: experimentalLanUC浪费dFactory
builtFrom_1_pos:10.2

[hiddenAction_出场]
autoTriggerOnEvent:completeAndActive
#playSoundGlobally:危.ogg:5
showMessageToAllPlayers_zh:[警告]雅娜母舰——%{self.playerName}的妖姬航空之王。已经出场
showMessageToAllPlayers:[Warning] Yana Mothership——%{self.playerName}The king of enchanting aviation. Already Played

[hiddenAction_死亡]
autoTriggerOnEvent:destroyed
showMessageToAllPlayers:Yana Mothership-Has it been destroyed?
showMessageToAllPlayers_zh:雅娜母舰——已被摧毁？

[hiddenAction_修复场]
displayType: action
buildSpeed: 0s
fireTurretXAtGround: 修复场
fireTurretXAtGround_withOffset: 0,0

autoTrigger: if self.customTimer(laterThanSeconds=5)
resetCustomTimer:true

canPlayerCancel: false
[effect_areaHeal]
life: 100

priority:critical

xOffsetRelative: 0
yOffsetRelative: 0
hOffset: 0
dirOffsetRandom:180
dirSpeedRandom: 1

scaleFrom: 0.75
scaleTo: 18

fadeInTime: 1
fadeOut: true

attachedToUnit: false

image: areaShock.png

drawUnderUnits: true

alpha:1

[effect_healLights]
life: 180

priority:critical

xOffsetRelative: 0
yOffsetRelative: 0
hOffset: 0
dirOffsetRandom:180
dirSpeedRandom: 0.05

scaleFrom: 0.7
scaleTo: 0.71

delayedStartTimer: 20

fadeInTime: 40
fadeOut: true

attachedToUnit: false

image: nanoLights.png

drawUnderUnits: true

alpha:3
[effect_healSparks]
attachedToUnit: true
life: 100

xOffsetRelativeRandom: 8
yOffsetRelativeRandom: 8

xSpeedRelativeRandom: 2
ySpeedRelativeRandom: 2
hSpeed: 0.2

dirSpeedRandom: 1

fadeInTime: 10

image: nanoSparks.png
scaleFrom: 0.5
scaleTo: 0.4
color: #FFFFFF
priority:critical

[effect_healBodyLight]

image: SHARED:light_50.png
life: 50
fadeOut: true
fadeInTime: 1
attachedToUnit: true
color: #11ff11

drawUnderUnits: false

scaleFrom: 0
scaleTo: 24

priority:critical

alpha: 0.5

[effect_powerAura]
priority:critical


image: aura.png


life: 380
fadeOut: true
attachedToUnit: true
color: #FFFFFF

dirSpeed: 1.5

fadeInTime: 40
scaleFrom: 3.9
scaleTo: 4.2
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false

[effect_powerAura2]
priority:critical


image: aura.png


life: 380
fadeOut: true
attachedToUnit: true
color: #FFFFFF

dirSpeed: -0.75

fadeInTime: 40
scaleFrom: 3.9
scaleTo: 4.2
alpha: 0.4
drawUnderUnits:true
liveAfterAttachedDies: false
[graphics]
total_frames: 3

image:        雅娜母舰.png
image_wreak:  NONE
scaleImagesTo: 210
image_shadow: AUTO
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start:0
animation_idle_end:2
animation_idle_speed:20

animation_moving_start:0
animation_moving_end:2
animation_moving_speed:10
#icon_zoomed_out:.拉莱耶icon.png

showTransportBar: false
[attachment_上层甲板]
x: 0
y: 0
isUnselectable: true
canBeAttackedAndDamaged: false
addTransportedUnits: true
setDrawLayerOnBottom:false
canAttack: true
lockRotation: true
onCreateSpawnUnitOf:雅娜上层甲板
[attachment_下层甲板]
x: 0
y: 0
isUnselectable: true
canBeAttackedAndDamaged: false
addTransportedUnits: true
setDrawLayerOnBottom:false
canAttack: true
lockRotation: true
onCreateSpawnUnitOf:雅娜下层甲板
[arm_1]
x:120
y:29.5
image_end:空白.png

drawOverBody: true


spinRate:15
[arm_2]
x:-120
y:29.5
image_end:空白.png

drawOverBody: true


spinRate:15
[arm_3]
x:81
y:-116.5
image_end:空白.png

drawOverBody: true


spinRate:15
[arm_4]
x:-81
y:-116.5
image_end:空白.png

drawOverBody: true


spinRate:15
[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
turretSize:13
maxAttackRange:9000


[attachment_1]
x:0
y:50
canAttack: true
isVisible: true
lockRotation: true
onCreateSpawnUnitOf:大激光

[turret_1]
#机炮
x: 0
y: 0
projectile: 机

turnSpeed: 2
turnSpeedAcceleration: 1.0
limitingRange: 9000
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:2
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true
canOnlyAttackUnitsWithTags:KJR
#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10

[turret_2]
#机炮
x: 0
y: 75
projectile: 机炮

turnSpeed: 2
turnSpeedAcceleration: 1.0
limitingRange: 600
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:2
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_3]
#机炮
x: -24
y: 40
projectile: 机炮

turnSpeed: 2
turnSpeedAcceleration: 1.0
limitingRange: 600
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:2
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_4]
#机炮
x: 24
y: 40
projectile: 机炮
limitingRange: 600
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:2
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_5]
#机炮
x: 45
y: 50
projectile: 机炮
limitingRange: 600
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_6]
#机炮
x: -45
y: 50
projectile: 机炮
limitingRange: 600
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_7]
#机炮
x: 72
y: 72
projectile: 机炮

turnSpeed: 2
turnSpeedAcceleration: 1.0
limitingRange: 600
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_8]
#机炮
x: -72
y: 72
projectile: 机炮
limitingRange: 600
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
image: .舰炮.png
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFff925c
delay: 0.5s
canShoot: true

#warmup:20

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10
[turret_核弹]
#蜂群1
x: 0
y: 0
invisible: true
delay:10s
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
shoot_sound:nuke_launch
shoot_sound_vol:0.3
shoot_flame:NONE
shoot_light:#FFEECCCC
projectile: 核弹
size:1
[turret_修复场]
#area heal turret
x: 0
y: 0

invisible: true

limitingRange: 660

canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

#onShoot_playAnimation:

projectile: 修复场

turnSpeed: 5.0
#turnSpeedAcceleration: 1.5

shoot_sound:NONE
shoot_sound_vol:0.5
#shoot_flame:CUSTOM:sparks2*3, CUSTOM:lightSlowFade
shoot_flame:NONE

canShoot: true

size: 0

delay: 0

warmup:0

#chargeEffectImage: SHARED:lighting_charge2.png
[projectile_修复场]
#healing burst
areaDamage: -750
areaRadius: 660

targetGround: true

areaExpandTime: 270
areaHitAirAndLandAtSameTime: true

speed: 0

life: 0
instant: false
largeHitEffect: true

explodeOnEndOfLife: true

deflectionPower: -1

shieldDamageMultiplier: 0
buildingDamageMultiplier: 0.1

friendlyFire: only-ignoreEnemy

explodeEffect: CUSTOM:areaHeal, CUSTOM:healLights, CUSTOM:healSparks*14, CUSTOM:healBodyLight

[projectile_核弹]

directDamage: 123

life: 99999
speed: 0.1
targetSpeed: 5.4
targetSpeedAcceleration:0.02


largeHitEffect: true
frame: 0
shadowFrame:1

drawType:1

targetGround: true
areaDamage: 1500
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true

areaRadius: 250

areaExpandTime:25
spawnUnit:大爆炸
deflectionPower:-1


shouldRevealFog:true

lightColor: #FFEEEE00
lightSize: 1

friendlyFire: false

#trailEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:4

[effect_projectileTrail]

stripIndex: effects
frameIndex: 0


life: 120
fadeOut: true
attachedToUnit: false
color: #FFFFFF
fadeInTime:5
scaleFrom: 0.5
scaleTo: 3.5
alpha: 0.6
drawUnderUnits:false
#ySpeedRelative:-1
atmospheric:true

dirOffsetRandom:180

shadow:true

xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2

[effect_nukeLaunch_light]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FFFFFF
scaleFrom: 1.7
scaleTo: 1.7
alpha: 0.7
drawUnderUnits:false
[effect_nukeLaunch_wave]
priority:high

stripIndex:shockwave
life: 50
scaleFrom: 0.5
scaleTo: 2.5
[projectile_机炮]
#shot
directDamage: 75
areaDamage: 80
areaRadius: 40
life: 6000
drawType: 2
frame: 5
speed:8
largeHitEffect: true
image:机炮抛射物.png
lightColor: #ffff925c
lightSize: 0.3

[projectile_机]
#shot
directDamage: 75000000
areaDamage: 80
areaRadius: 40
life: 6000
drawType: 2
frame: 5
speed:8
largeHitEffect: true
image:机炮抛射物.png
lightColor: #ffff925c
lightSize: 0.3
instant: true


[movement]
movementType: AIR
moveSpeed: 0.9
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
reverseSpeedPercentage:0.8


maxTurnSpeed: 0.5
turnAcceleration: 0.02

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45

targetHeightDrift: 0.3
slowDeathFall: true

[ai]

buildPriority: 0.5

