[hiddenAction_refund]
requireConditional: if numberOfUnitsInTeam(greaterThan=1,withTag='ROP',incompleteBuildings=true)
autoTriggerOnEvent: created
deleteSelf: true
showMessageToPlayer: [错误:最多1个亚蓝矩阵]

[action_dive]
convertTo: 亚蓝矩阵海
displayType: action
price:  0
text: SEA
text_zh: 海军
buildSpeed: 1.5s
whenBuilding_cannotMove: true
isActive: if self.isOverWater()

[core]
name: 亚蓝矩阵
displayText_zh: 灾厄亚蓝矩阵
displayDescription_zh: -奇兰出品，必属精品\n-灾厄亚蓝矩阵为你的战斗保驾护航，感谢你对妖姬奇兰科技的支持。
selfRegenRate:0.6
displayText: Bad Blue Matrix
displayDescription: -Yalan,A boutique \n-disaster crow matrix escorted to your battle, thank you for your support of Emoy Ji Qiran Technology.

class: CustomUnitMetadata
price: 350000,妖姬粒子=150
maxHp: 100000
mass: 3000000
#canOnlyBeAttackedByUnitsWithTags: RTS
numBitsOnDeath: 255
techLevel: 2
buildSpeed: 40s

armour:150

#shieldRegen:1
maxShield:10000

armourMinDamageToKeep:50

tags:ROP
#availableInDemo: true

energyMax: 40
energyRegen: 0.0051
energyNeedsToRechargeToFull: true

radius: 75
displayRadius: 75

#energyMax: 1
#energyRegen: 0.00315
#energyNeedsToRechargeToFull: true


isBio: false
softCollisionOnAll: 0

[graphics]
total_frames: 1
scaleImagesTo: 180
image:        blue.png
image_wreak:  NONE
image_shield:.保护圈.png
image_turret: bluex.png
scaleTurretImagesTo: 20
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1
movementEffect: CUSTOM:EkRotorwash, CUSTOM:EkRotordust
movementEffectRate: 6

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 19
turretTurnSpeed: 4


maxAttackRange: 500
shootDelay: 0.1s

[turret_1]

x: -5
y: -24

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: beam
size: 16
limitingAngle:360
delay: 0.1s

shouldResetTurret: true

turnSpeed: 4.2
turnSpeedAcceleration: 0.3
aimOffsetSpread: 0
idleSweepAngle:20
idleSweepDelay:100
idleSweepSpeed:0.4

[turret_2]
x: -5
y: 24

[turret_3]
x: -27
y: 5

[turret_4]
x: 27
y: 5

[turret_5]
x: -25
y: 12
projectile: kop
delay:0.1s
invisible:true

[turret_6]
x: 25
y: 12
projectile: kop
delay:0.1s
invisible:true

[turret_7]
x: -25
y: -12
projectile: kop
delay:0.1s
invisible:true

[turret_8]
x: 25
y: -12
projectile: kop
delay:0.1s
invisible:true

[projectile_beam]
#=== for the beam effect ===
life: 15
instant:true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true

beamImage:      SHARED:beam3.png
beamImageEnd:   SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
#beamImageOffsetRate: 1.5
beamImageOffsetRate: 2
areaDamage:150
areaRadius:150
explodeEffect: NONE
explodeEffectOnShield: NONE

shieldDamageMultiplier: 0.75

sweepOffsetFromTargetRadius:0.4
#sweepOffset: x
sweepSpeed:10
#=== others ===
directDamage: 2048

#color: #aa6284b8
#color: #dd99bcf2
color: #42f2f5

teamColorRatio_sourceRatio:0.8

teamColorRatio:0.5
#pushForce:10
#pushVelocity:10
#laserEffect: true

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #FF0000
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true


[movement]
movementType: AIR
#moveSpeed: 0.7
moveSpeed: 3

moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

maxTurnSpeed: 1.8
turnAcceleration: 0.5
slowDeathFall: true
moveSlidingMode :false
moveIgnoringBody:false

targetHeight: 150
reverseSpeedPercentage:0.75

[effect_EkRotorwash]
image: rotorwash.png
createWhenOverLand: false
life: 40
spawnChance: 1
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 0.25
scaleTo: 1.5
alpha: 0.5
drawUnderUnits:true
hOffset: -40
dirOffsetRandom: 180
dirSpeedRandom: 0.6
atmospheric: true

[effect_EkRotordust]
image: rotorwash.png
createWhenOverLiquid: false
life: 40
spawnChance: 1
fadeOut: true
attachedToUnit: false
fadeInTime:2
scaleFrom: 0.25
scaleTo: 1.5
alpha: 1
color: #916C5B
drawUnderUnits:true
hOffset: -40
dirOffsetRandom: 180
dirSpeedRandom: 0.6
atmospheric: true

[projectile_kop]
life: 15
speed: 9
drawSize:0.1
image:SHARED:blank.png
beamImage:   .黄光.png
beamImageEnd:  SHARED:blank.png
beamImageStart: SHARED:blank.png
areaDamage:100
areaRadius:100
instant:true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
beamImageStartRotated: true
beamImageEndRotated: true
moveWithParent: true
beamImageOffsetRate: 0.5
sweepOffsetFromTargetRadius:0.2
sweepSpeed:50
explodeEffect: CUSTOM:6,CUSTOM:5,CUSTOM:4
explodeEffectOnShield: CUSTOM:6,CUSTOM:5,CUSTOM:4
deflectionPower:-1
#pushForce:-3

[effect_engineTrail]

#createWhenOverLiquid: false

createWhenZoomedOut: false
priority:high


life: 200
fadeOut: true
attachedToUnit: false
color: #FFEE22
fadeInTime:3
scaleFrom: 0.3
scaleTo: 0.8
alpha: 1.1
#drawUnderUnits:true

ySpeedRelative:-0.7
xSpeedRelativeRandom:0.2

yOffsetRelative: -40

atmospheric: true

stripIndex:effects
frameIndex: 0

[effect_1]
image:effect.png
life: 100
priority:veryhigh
dirOffsetRandom:-40
dirSpeedRandom: 25
scaleFrom: 0.2
scaleTo: 0.2
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: false

[effect_2]
image:effect.png
life: 30
priority:veryhigh
dirOffsetRandom:-250
dirSpeed:10
scaleFrom: 0.3
scaleTo: 0.3
fadeInTime: 0
fadeOut: false
attachedToUnit: true
drawUnderUnits: false

[effect_3]
frameIndex: 0
priority:low
life:30
dirOffsetRandom:-250
attachedToUnit: false
drawUnderUnits: false
fadeOut: true
fadeInTime:5
scaleFrom:0.26
scaleTo:0.26
alpha: 0.7
image:effect.png

[effect_4]
priority:veryhigh
image:ring.png
life: 12
attachedToUnit: true
color: #1dffff
alpha: 1.2
scaleFrom: 0.15
scaleTo: 2.5

[effect_5]
image:lightpoint.png
life: 20
priority:veryhigh
scaleFrom: 0.7
scaleTo: 0.9
fadeInTime: 5
fadeOut: false
attachedToUnit: true
drawUnderUnits: false

[effect_6]
physics: false
attachedToUnit: false
life:50
image:SHARED:spark.png
atmospheric: true
dirOffsetRandom:15
scaleFrom:2.5
scaleTo:5.5
priority:verylow
showInFog:false
xOffsetRelativeRandom:5
yOffsetRelativeRandom:5
xSpeedRelativeRandom:-3
ySpeedRelativeRandom:-3
